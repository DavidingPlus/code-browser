<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>qnetworkinterface_linux.cpp source code [qtbase-6.5.0/src/network/kernel/qnetworkinterface_linux.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'qtbase-6.5.0/src/network/kernel/qnetworkinterface_linux.cpp'; var root_path = '../../../..'; var data_path = '../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>qtbase-6.5.0</a>/<a href='../..'>src</a>/<a href='..'>network</a>/<a href='./'>kernel</a>/<a href='qnetworkinterface_linux.cpp.html'>qnetworkinterface_linux.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>// Copyright (C) 2017 Intel Corporation.</i></td></tr>
<tr><th id="2">2</th><td><i>// SPDX-License-Identifier: LicenseRef-Qt-Commercial OR LGPL-3.0-only OR GPL-2.0-only OR GPL-3.0-only</i></td></tr>
<tr><th id="3">3</th><td></td></tr>
<tr><th id="4">4</th><td><u>#include <a href="qnetworkinterface.h.html">"qnetworkinterface.h"</a></u></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="qnetworkinterface_p.h.html">"qnetworkinterface_p.h"</a></u></td></tr>
<tr><th id="6">6</th><td><u>#include <a href="qnetworkinterface_unix_p.h.html">"qnetworkinterface_unix_p.h"</a></u></td></tr>
<tr><th id="7">7</th><td></td></tr>
<tr><th id="8">8</th><td><u>#<span data-ppcond="8">ifndef</span> <span class="macro" data-ref="_M/QT_NO_NETWORKINTERFACE">QT_NO_NETWORKINTERFACE</span></u></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="../../../build/include/QtCore/qendian.h.html">&lt;qendian.h&gt;</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="../../../build/include/QtCore/qobjectdefs.h.html">&lt;qobjectdefs.h&gt;</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="../../../build/include/QtCore/qvarlengtharray.h.html">&lt;qvarlengtharray.h&gt;</a></u></td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td><i>// according to rtnetlink(7)</i></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="../../../../include/x86_64-linux-gnu/asm/types.h.html">&lt;asm/types.h&gt;</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="../../../../include/linux/if.h.html">&lt;linux/if.h&gt;</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../../../../include/linux/if_arp.h.html">&lt;linux/if_arp.h&gt;</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../../../include/linux/netlink.h.html">&lt;linux/netlink.h&gt;</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../../../include/linux/rtnetlink.h.html">&lt;linux/rtnetlink.h&gt;</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../../../include/linux/wireless.h.html">&lt;linux/wireless.h&gt;</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../../../include/x86_64-linux-gnu/sys/socket.h.html">&lt;sys/socket.h&gt;</a></u></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><i>/* in case these aren't defined in linux/if_arp.h (added since 2.6.28)  */</i></td></tr>
<tr><th id="24">24</th><td><u>#define <dfn class="macro" id="_M/ARPHRD_PHONET" data-ref="_M/ARPHRD_PHONET">ARPHRD_PHONET</dfn>       820     /* v2.6.29: PhoNet media type */</u></td></tr>
<tr><th id="25">25</th><td><u>#define <dfn class="macro" id="_M/ARPHRD_PHONET_PIPE" data-ref="_M/ARPHRD_PHONET_PIPE">ARPHRD_PHONET_PIPE</dfn>  821     /* v2.6.29: PhoNet pipe header */</u></td></tr>
<tr><th id="26">26</th><td><u>#define <dfn class="macro" id="_M/ARPHRD_IEEE802154" data-ref="_M/ARPHRD_IEEE802154">ARPHRD_IEEE802154</dfn>   804     /* v2.6.31 */</u></td></tr>
<tr><th id="27">27</th><td><u>#define <dfn class="macro" id="_M/ARPHRD_6LOWPAN" data-ref="_M/ARPHRD_6LOWPAN">ARPHRD_6LOWPAN</dfn>      825     /* v3.14: IPv6 over LoWPAN */</u></td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><a class="macro" href="../../corelib/global/qtconfigmacros.h.html#103" title="" data-ref="_M/QT_BEGIN_NAMESPACE">QT_BEGIN_NAMESPACE</a></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><b>enum</b> {</td></tr>
<tr><th id="32">32</th><td>    <dfn class="enum" id="BufferSize" title='BufferSize' data-ref="BufferSize">BufferSize</dfn> = <var>8192</var></td></tr>
<tr><th id="33">33</th><td>};</td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><em>static</em> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="type" href="qnetworkinterface.h.html#QNetworkInterface::InterfaceType" title='QNetworkInterface::InterfaceType' data-ref="QNetworkInterface::InterfaceType">InterfaceType</a> <dfn class="tu decl def fn" id="_ZL11probeIfTypeiP5ifreqs" title='probeIfType' data-type='QNetworkInterface::InterfaceType probeIfType(int socket, struct ifreq * req, short arptype)' data-ref="_ZL11probeIfTypeiP5ifreqs">probeIfType</dfn>(<em>int</em> <dfn class="local col3 decl" id="3socket" title='socket' data-type='int' data-ref="3socket">socket</dfn>, <b>struct</b> <a class="type" href="../../../../include/linux/if.h.html#ifreq" title='ifreq' data-ref="ifreq">ifreq</a> *<dfn class="local col4 decl" id="4req" title='req' data-type='struct ifreq *' data-ref="4req">req</dfn>, <em>short</em> <dfn class="local col5 decl" id="5arptype" title='arptype' data-type='short' data-ref="5arptype">arptype</dfn>)</td></tr>
<tr><th id="36">36</th><td>{</td></tr>
<tr><th id="37">37</th><td>    <b>switch</b> (<a class="typedef" href="../../../../include/x86_64-linux-gnu/sys/types.h.html#ushort" title='ushort' data-type='unsigned short' data-ref="ushort">ushort</a>(<a class="local col5 ref" href="#5arptype" title='arptype' data-ref="5arptype">arptype</a>)) {</td></tr>
<tr><th id="38">38</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#69" title="772" data-ref="_M/ARPHRD_LOOPBACK">ARPHRD_LOOPBACK</a>:</td></tr>
<tr><th id="39">39</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Loopback" title='QNetworkInterface::Loopback' data-ref="QNetworkInterface::Loopback">Loopback</a>;</td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#31" title="1" data-ref="_M/ARPHRD_ETHER">ARPHRD_ETHER</a>:</td></tr>
<tr><th id="42">42</th><td>        <i>// check if it's a WiFi interface</i></td></tr>
<tr><th id="43">43</th><td>        <b>if</b> (<a class="ref fn" href="../socket/qnet_unix_p.h.html#_ZL13qt_safe_ioctlimT_" title='qt_safe_ioctl' data-ref="_ZL13qt_safe_ioctlimT_">qt_safe_ioctl</a>(<span class='inlayHint'>sockfd:&nbsp;</span><a class="local col3 ref" href="#3socket" title='socket' data-ref="3socket">socket</a>, <a class="macro" href="../../../../include/linux/wireless.h.html#245" title="0x8B07" data-ref="_M/SIOCGIWMODE">SIOCGIWMODE</a>, <span class='inlayHint'>arg:&nbsp;</span><a class="local col4 ref" href="#4req" title='req' data-ref="4req">req</a>) &gt;= <var>0</var>)</td></tr>
<tr><th id="44">44</th><td>            <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Wifi" title='QNetworkInterface::Wifi' data-ref="QNetworkInterface::Wifi">Wifi</a>;</td></tr>
<tr><th id="45">45</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Ethernet" title='QNetworkInterface::Ethernet' data-ref="QNetworkInterface::Ethernet">Ethernet</a>;</td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#47" title="256" data-ref="_M/ARPHRD_SLIP">ARPHRD_SLIP</a>:</td></tr>
<tr><th id="48">48</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#48" title="257" data-ref="_M/ARPHRD_CSLIP">ARPHRD_CSLIP</a>:</td></tr>
<tr><th id="49">49</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#49" title="258" data-ref="_M/ARPHRD_SLIP6">ARPHRD_SLIP6</a>:</td></tr>
<tr><th id="50">50</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#50" title="259" data-ref="_M/ARPHRD_CSLIP6">ARPHRD_CSLIP6</a>:</td></tr>
<tr><th id="51">51</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Slip" title='QNetworkInterface::Slip' data-ref="QNetworkInterface::Slip">Slip</a>;</td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#56" title="280" data-ref="_M/ARPHRD_CAN">ARPHRD_CAN</a>:</td></tr>
<tr><th id="54">54</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::CanBus" title='QNetworkInterface::CanBus' data-ref="QNetworkInterface::CanBus">CanBus</a>;</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#57" title="512" data-ref="_M/ARPHRD_PPP">ARPHRD_PPP</a>:</td></tr>
<tr><th id="57">57</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Ppp" title='QNetworkInterface::Ppp' data-ref="QNetworkInterface::Ppp">Ppp</a>;</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#71" title="774" data-ref="_M/ARPHRD_FDDI">ARPHRD_FDDI</a>:</td></tr>
<tr><th id="60">60</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Fddi" title='QNetworkInterface::Fddi' data-ref="QNetworkInterface::Fddi">Fddi</a>;</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#88" title="801" data-ref="_M/ARPHRD_IEEE80211">ARPHRD_IEEE80211</a>:</td></tr>
<tr><th id="63">63</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#89" title="802" data-ref="_M/ARPHRD_IEEE80211_PRISM">ARPHRD_IEEE80211_PRISM</a>:</td></tr>
<tr><th id="64">64</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#90" title="803" data-ref="_M/ARPHRD_IEEE80211_RADIOTAP">ARPHRD_IEEE80211_RADIOTAP</a>:</td></tr>
<tr><th id="65">65</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Ieee80211" title='QNetworkInterface::Ieee80211' data-ref="QNetworkInterface::Ieee80211">Ieee80211</a>;</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td>    <b>case</b> <a class="macro" href="#26" title="804" data-ref="_M/ARPHRD_IEEE802154">ARPHRD_IEEE802154</a>:</td></tr>
<tr><th id="68">68</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Ieee802154" title='QNetworkInterface::Ieee802154' data-ref="QNetworkInterface::Ieee802154">Ieee802154</a>;</td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td>    <b>case</b> <a class="macro" href="#24" title="820" data-ref="_M/ARPHRD_PHONET">ARPHRD_PHONET</a>:</td></tr>
<tr><th id="71">71</th><td>    <b>case</b> <a class="macro" href="#25" title="821" data-ref="_M/ARPHRD_PHONET_PIPE">ARPHRD_PHONET_PIPE</a>:</td></tr>
<tr><th id="72">72</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Phonet" title='QNetworkInterface::Phonet' data-ref="QNetworkInterface::Phonet">Phonet</a>;</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td>    <b>case</b> <a class="macro" href="#27" title="825" data-ref="_M/ARPHRD_6LOWPAN">ARPHRD_6LOWPAN</a>:</td></tr>
<tr><th id="75">75</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::SixLoWPAN" title='QNetworkInterface::SixLoWPAN' data-ref="QNetworkInterface::SixLoWPAN">SixLoWPAN</a>;</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#65" title="768" data-ref="_M/ARPHRD_TUNNEL">ARPHRD_TUNNEL</a>:</td></tr>
<tr><th id="78">78</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#66" title="769" data-ref="_M/ARPHRD_TUNNEL6">ARPHRD_TUNNEL6</a>:</td></tr>
<tr><th id="79">79</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#103" title="0xFFFE" data-ref="_M/ARPHRD_NONE">ARPHRD_NONE</a>:</td></tr>
<tr><th id="80">80</th><td>    <b>case</b> <a class="macro" href="../../../../include/linux/if_arp.h.html#102" title="0xFFFF" data-ref="_M/ARPHRD_VOID">ARPHRD_VOID</a>:</td></tr>
<tr><th id="81">81</th><td>        <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Virtual" title='QNetworkInterface::Virtual' data-ref="QNetworkInterface::Virtual">Virtual</a>;</td></tr>
<tr><th id="82">82</th><td>    }</td></tr>
<tr><th id="83">83</th><td>    <b>return</b> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::Unknown" title='QNetworkInterface::Unknown' data-ref="QNetworkInterface::Unknown">Unknown</a>;</td></tr>
<tr><th id="84">84</th><td>}</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><b>namespace</b> {</td></tr>
<tr><th id="88">88</th><td><b>struct</b> <dfn class="tu type def" id="(anonymousnamespace)::NetlinkSocket" title='(anonymous namespace)::NetlinkSocket' data-ref="(anonymousnamespace)::NetlinkSocket">NetlinkSocket</dfn></td></tr>
<tr><th id="89">89</th><td>{</td></tr>
<tr><th id="90">90</th><td>    <em>int</em> <dfn class="tu decl field" id="(anonymousnamespace)::NetlinkSocket::sock" title='(anonymous namespace)::NetlinkSocket::sock' data-type='int' data-ref="(anonymousnamespace)::NetlinkSocket::sock">sock</dfn>;</td></tr>
<tr><th id="91">91</th><td>    <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_113NetlinkSocketC1Ei" title='(anonymous namespace)::NetlinkSocket::NetlinkSocket' data-type='void (anonymous namespace)::NetlinkSocket::NetlinkSocket(int bufferSize)' data-ref="_ZN12_GLOBAL__N_113NetlinkSocketC1Ei">NetlinkSocket</dfn>(<em>int</em> <dfn class="local col6 decl" id="6bufferSize" title='bufferSize' data-type='int' data-ref="6bufferSize">bufferSize</dfn>)</td></tr>
<tr><th id="92">92</th><td>    {</td></tr>
<tr><th id="93">93</th><td>        <a class="tu member field" href="#(anonymousnamespace)::NetlinkSocket::sock" title='(anonymous namespace)::NetlinkSocket::sock' data-use='w' data-ref="(anonymousnamespace)::NetlinkSocket::sock">sock</a> = <a class="ref fn" href="../socket/qnet_unix_p.h.html#_ZL14qt_safe_socketiiii" title='qt_safe_socket' data-ref="_ZL14qt_safe_socketiiii">qt_safe_socket</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket.h.html#110" title="16" data-ref="_M/AF_NETLINK">AF_NETLINK</a>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket_type.h.html#31" title="SOCK_DGRAM" data-ref="_M/SOCK_DGRAM">SOCK_DGRAM</a>, <a class="macro" href="../../../../include/linux/netlink.h.html#9" title="0" data-ref="_M/NETLINK_ROUTE">NETLINK_ROUTE</a>);</td></tr>
<tr><th id="94">94</th><td>        <b>if</b> (<a class="macro" href="../../corelib/global/qcompilerdetection.h.html#194" title="__builtin_expect(!!(sock == -1), false)" data-ref="_M/Q_UNLIKELY">Q_UNLIKELY</a>(<a class="tu member field" href="#(anonymousnamespace)::NetlinkSocket::sock" title='(anonymous namespace)::NetlinkSocket::sock' data-use='r' data-ref="(anonymousnamespace)::NetlinkSocket::sock">sock</a> == -<var>1</var>))</td></tr>
<tr><th id="95">95</th><td>            <a class="ref fn" href="../../corelib/global/qlogging.h.html#_Z13qErrnoWarningPKcz" title='qErrnoWarning' data-ref="_Z13qErrnoWarningPKcz">qErrnoWarning</a>(<span class='inlayHint'>msg:&nbsp;</span><q>"Could not create AF_NETLINK socket"</q>);</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>        <i>// set buffer length</i></td></tr>
<tr><th id="98">98</th><td>        <a class="typedef" href="../../../../include/unistd.h.html#socklen_t" title='socklen_t' data-type='__socklen_t' data-ref="socklen_t">socklen_t</a> <dfn class="local col7 decl" id="7len" title='len' data-type='socklen_t' data-ref="7len">len</dfn> = <b>sizeof</b>(<a class="local col6 ref" href="#6bufferSize" title='bufferSize' data-ref="6bufferSize">bufferSize</a>);</td></tr>
<tr><th id="99">99</th><td>        <a class="ref fn" href="../../../../include/x86_64-linux-gnu/sys/socket.h.html#setsockopt" title='setsockopt' data-ref="setsockopt">setsockopt</a>(<span class='inlayHint'>fd:&nbsp;</span><a class="tu member field" href="#(anonymousnamespace)::NetlinkSocket::sock" title='(anonymous namespace)::NetlinkSocket::sock' data-use='r' data-ref="(anonymousnamespace)::NetlinkSocket::sock">sock</a>, <a class="macro" href="../../../../include/asm-generic/socket.h.html#9" title="1" data-ref="_M/SOL_SOCKET">SOL_SOCKET</a>, <a class="macro" href="../../../../include/asm-generic/socket.h.html#17" title="7" data-ref="_M/SO_SNDBUF">SO_SNDBUF</a>, <span class='inlayHint'>optval:&nbsp;</span>&amp;<a class="local col6 ref" href="#6bufferSize" title='bufferSize' data-ref="6bufferSize">bufferSize</a>, <span class='inlayHint'>optlen:&nbsp;</span><a class="local col7 ref" href="#7len" title='len' data-ref="7len">len</a>);</td></tr>
<tr><th id="100">100</th><td>    }</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>    <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_113NetlinkSocketD1Ev" title='(anonymous namespace)::NetlinkSocket::~NetlinkSocket' data-type='void (anonymous namespace)::NetlinkSocket::~NetlinkSocket()' data-ref="_ZN12_GLOBAL__N_113NetlinkSocketD1Ev">~NetlinkSocket</dfn>()</td></tr>
<tr><th id="103">103</th><td>    {</td></tr>
<tr><th id="104">104</th><td>        <b>if</b> (<a class="tu member field" href="#(anonymousnamespace)::NetlinkSocket::sock" title='(anonymous namespace)::NetlinkSocket::sock' data-use='r' data-ref="(anonymousnamespace)::NetlinkSocket::sock">sock</a> != -<var>1</var>)</td></tr>
<tr><th id="105">105</th><td>            <a class="ref fn" href="../../corelib/kernel/qcore_unix_p.h.html#_ZL13qt_safe_closei" title='qt_safe_close' data-ref="_ZL13qt_safe_closei">qt_safe_close</a>(<span class='inlayHint'>fd:&nbsp;</span><a class="tu member field" href="#(anonymousnamespace)::NetlinkSocket::sock" title='(anonymous namespace)::NetlinkSocket::sock' data-use='r' data-ref="(anonymousnamespace)::NetlinkSocket::sock">sock</a>);</td></tr>
<tr><th id="106">106</th><td>    }</td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td>    <dfn class="tu decl def fn" id="_ZNK12_GLOBAL__N_113NetlinkSocketcviEv" title='(anonymous namespace)::NetlinkSocket::operator int' data-type='int (anonymous namespace)::NetlinkSocket::operator int() const' data-ref="_ZNK12_GLOBAL__N_113NetlinkSocketcviEv"><b>operator</b> <em>int</em></dfn>() <em>const</em> { <b>return</b> <a class="tu member field" href="#(anonymousnamespace)::NetlinkSocket::sock" title='(anonymous namespace)::NetlinkSocket::sock' data-use='r' data-ref="(anonymousnamespace)::NetlinkSocket::sock">sock</a>; }</td></tr>
<tr><th id="109">109</th><td>};</td></tr>
<tr><th id="110">110</th><td></td></tr>
<tr><th id="111">111</th><td><b>template</b> &lt;<b>typename</b> Lambda&gt; <b>struct</b> <dfn class="tu type def" id="(anonymousnamespace)::ProcessNetlinkRequest" title='(anonymous namespace)::ProcessNetlinkRequest' data-ref="(anonymousnamespace)::ProcessNetlinkRequest">ProcessNetlinkRequest</dfn></td></tr>
<tr><th id="112">112</th><td>{</td></tr>
<tr><th id="113">113</th><td>    <b>using</b> <dfn class="tu typedef" id="(anonymousnamespace)::ProcessNetlinkRequest::FunctionTraits" title='(anonymous namespace)::ProcessNetlinkRequest::FunctionTraits' data-type='QtPrivate::FunctionPointer&lt;decltype(&amp; Lambda::operator())&gt;' data-ref="(anonymousnamespace)::ProcessNetlinkRequest::FunctionTraits">FunctionTraits</dfn> = <span class="namespace">QtPrivate::</span><a class="type" href="../../corelib/kernel/qobjectdefs_impl.h.html#QtPrivate::FunctionPointer" title='QtPrivate::FunctionPointer' data-ref="QtPrivate::FunctionPointer">FunctionPointer</a>&lt;<b>decltype</b>(&amp;Lambda::<b>operator</b>())&gt;;</td></tr>
<tr><th id="114">114</th><td>    <b>using</b> <dfn class="tu typedef" id="(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument" title='(anonymous namespace)::ProcessNetlinkRequest::FirstArgument' data-type='typename FunctionTraits::Arguments::Car' data-ref="(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument">FirstArgument</dfn> = <b>typename</b> <a class="tu typedef" href="#(anonymousnamespace)::ProcessNetlinkRequest::FunctionTraits" title='(anonymous namespace)::ProcessNetlinkRequest::FunctionTraits' data-type='QtPrivate::FunctionPointer&lt;decltype(&amp; Lambda::operator())&gt;' data-ref="(anonymousnamespace)::ProcessNetlinkRequest::FunctionTraits">FunctionTraits</a>::Arguments::Car;</td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td>    <em>static</em> <em>int</em> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_121ProcessNetlinkRequest22expectedTypeForRequestEi" title='(anonymous namespace)::ProcessNetlinkRequest::expectedTypeForRequest' data-type='static int (anonymous namespace)::ProcessNetlinkRequest::expectedTypeForRequest(int rtype)' data-ref="_ZN12_GLOBAL__N_121ProcessNetlinkRequest22expectedTypeForRequestEi">expectedTypeForRequest</dfn>(<em>int</em> <dfn class="local col8 decl" id="8rtype" title='rtype' data-type='int' data-ref="8rtype">rtype</dfn>)</td></tr>
<tr><th id="117">117</th><td>    {</td></tr>
<tr><th id="118">118</th><td>        <b>static_assert</b>(<a class="macro" href="../../../../include/linux/rtnetlink.h.html#38" title="RTM_NEWADDR" data-ref="_M/RTM_NEWADDR">RTM_NEWADDR</a> == <a class="macro" href="../../../../include/linux/rtnetlink.h.html#42" title="RTM_GETADDR" data-ref="_M/RTM_GETADDR">RTM_GETADDR</a> - <var>2</var>);</td></tr>
<tr><th id="119">119</th><td>        <b>static_assert</b>(<a class="macro" href="../../../../include/linux/rtnetlink.h.html#29" title="RTM_NEWLINK" data-ref="_M/RTM_NEWLINK">RTM_NEWLINK</a> == <a class="macro" href="../../../../include/linux/rtnetlink.h.html#33" title="RTM_GETLINK" data-ref="_M/RTM_GETLINK">RTM_GETLINK</a> - <var>2</var>);</td></tr>
<tr><th id="120">120</th><td>        <a class="macro" href="../../corelib/global/qassert.h.html#28" title="static_cast&lt;void&gt;(false &amp;&amp; (rtype == RTM_GETADDR || rtype == RTM_GETLINK))" data-ref="_M/Q_ASSERT">Q_ASSERT</a>(<a class="local col8 ref" href="#8rtype" title='rtype' data-ref="8rtype">rtype</a> == <a class="macro" href="../../../../include/linux/rtnetlink.h.html#42" title="RTM_GETADDR" data-ref="_M/RTM_GETADDR">RTM_GETADDR</a> || <a class="local col8 ref" href="#8rtype" title='rtype' data-ref="8rtype">rtype</a> == <a class="macro" href="../../../../include/linux/rtnetlink.h.html#33" title="RTM_GETLINK" data-ref="_M/RTM_GETLINK">RTM_GETLINK</a>);</td></tr>
<tr><th id="121">121</th><td>        <b>return</b> <a class="local col8 ref" href="#8rtype" title='rtype' data-ref="8rtype">rtype</a> - <var>2</var>;</td></tr>
<tr><th id="122">122</th><td>    }</td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td>    <em>void</em> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_121ProcessNetlinkRequestclEiP8nlmsghdrPcmOT_" title='(anonymous namespace)::ProcessNetlinkRequest::operator()' data-type='void (anonymous namespace)::ProcessNetlinkRequest::operator()(int sock, nlmsghdr * hdr, char * buf, size_t bufsize, Lambda &amp;&amp; func)' data-ref="_ZN12_GLOBAL__N_121ProcessNetlinkRequestclEiP8nlmsghdrPcmOT_"><b>operator</b>()</dfn>(<em>int</em> <dfn class="local col9 decl" id="9sock" title='sock' data-type='int' data-ref="9sock">sock</dfn>, <a class="type" href="../../../../include/linux/netlink.h.html#nlmsghdr" title='nlmsghdr' data-ref="nlmsghdr">nlmsghdr</a> *<dfn class="local col0 decl" id="10hdr" title='hdr' data-type='nlmsghdr *' data-ref="10hdr">hdr</dfn>, <em>char</em> *<dfn class="local col1 decl" id="11buf" title='buf' data-type='char *' data-ref="11buf">buf</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col2 decl" id="12bufsize" title='bufsize' data-type='size_t' data-ref="12bufsize">bufsize</dfn>, Lambda &amp;&amp;<dfn class="local col3 decl" id="13func" title='func' data-type='Lambda &amp;&amp;' data-ref="13func">func</dfn>)</td></tr>
<tr><th id="125">125</th><td>    {</td></tr>
<tr><th id="126">126</th><td>        <i>// send the request</i></td></tr>
<tr><th id="127">127</th><td>        <b>if</b> (<a class="ref fn" href="../../../../include/x86_64-linux-gnu/sys/socket.h.html#send" title='send' data-ref="send">send</a>(<span class='inlayHint'>fd:&nbsp;</span><a class="local col9 ref" href="#9sock" title='sock' data-ref="9sock">sock</a>, <span class='inlayHint'>buf:&nbsp;</span><a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>, <span class='inlayHint'>n:&nbsp;</span><a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>-&gt;<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_len" title='nlmsghdr::nlmsg_len' data-ref="nlmsghdr::nlmsg_len">nlmsg_len</a>, <span class='inlayHint'>flags:&nbsp;</span><var>0</var>) != <a class="typedef" href="../../../../include/x86_64-linux-gnu/sys/types.h.html#ssize_t" title='ssize_t' data-type='__ssize_t' data-ref="ssize_t">ssize_t</a>(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>-&gt;<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_len" title='nlmsghdr::nlmsg_len' data-ref="nlmsghdr::nlmsg_len">nlmsg_len</a>))</td></tr>
<tr><th id="128">128</th><td>            <b>return</b>;</td></tr>
<tr><th id="129">129</th><td></td></tr>
<tr><th id="130">130</th><td>        <i>// receive and parse the request</i></td></tr>
<tr><th id="131">131</th><td>        <em>int</em> <dfn class="local col4 decl" id="14expectedType" title='expectedType' data-type='int' data-ref="14expectedType">expectedType</dfn> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_121ProcessNetlinkRequest22expectedTypeForRequestEi" title='(anonymous namespace)::ProcessNetlinkRequest::expectedTypeForRequest' data-use='c' data-ref="_ZN12_GLOBAL__N_121ProcessNetlinkRequest22expectedTypeForRequestEi">expectedTypeForRequest</a>(<span class='inlayHint'>rtype:&nbsp;</span><a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>-&gt;<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_type" title='nlmsghdr::nlmsg_type' data-ref="nlmsghdr::nlmsg_type">nlmsg_type</a>);</td></tr>
<tr><th id="132">132</th><td>        <em>const</em> <em>bool</em> <dfn class="local col5 decl" id="15isDump" title='isDump' data-type='const bool' data-ref="15isDump">isDump</dfn> = <a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>-&gt;<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_flags" title='nlmsghdr::nlmsg_flags' data-ref="nlmsghdr::nlmsg_flags">nlmsg_flags</a> &amp; <a class="macro" href="../../../../include/linux/netlink.h.html#65" title="(0x100|0x200)" data-ref="_M/NLM_F_DUMP">NLM_F_DUMP</a>;</td></tr>
<tr><th id="133">133</th><td>        <a class="macro" href="../../corelib/global/qforeach.h.html#78" title="for(;;)" data-ref="_M/forever">forever</a> {</td></tr>
<tr><th id="134">134</th><td>            <a class="typedef" href="../../corelib/global/qtypes.h.html#qsizetype" title='qsizetype' data-type='QIntegerForSizeof&lt;std::size_t&gt;::Signed' data-ref="qsizetype">qsizetype</a> <dfn class="local col6 decl" id="16len" title='len' data-type='qsizetype' data-ref="16len">len</dfn> = <a class="ref fn" href="../../../../include/x86_64-linux-gnu/sys/socket.h.html#recv" title='recv' data-ref="recv">recv</a>(<span class='inlayHint'>fd:&nbsp;</span><a class="local col9 ref" href="#9sock" title='sock' data-ref="9sock">sock</a>, <span class='inlayHint'>buf:&nbsp;</span><a class="local col1 ref" href="#11buf" title='buf' data-ref="11buf">buf</a>, <span class='inlayHint'>n:&nbsp;</span><a class="local col2 ref" href="#12bufsize" title='bufsize' data-ref="12bufsize">bufsize</a>, <span class='inlayHint'>flags:&nbsp;</span><var>0</var>);</td></tr>
<tr><th id="135">135</th><td>            <a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a> = <b>reinterpret_cast</b>&lt;<b>struct</b> <a class="type" href="../../../../include/linux/netlink.h.html#nlmsghdr" title='nlmsghdr' data-ref="nlmsghdr">nlmsghdr</a> *&gt;(<a class="local col1 ref" href="#11buf" title='buf' data-ref="11buf">buf</a>);</td></tr>
<tr><th id="136">136</th><td>            <b>if</b> (!<a class="macro" href="../../../../include/linux/netlink.h.html#97" title="((quint32(len)) &gt;= (int)sizeof(struct nlmsghdr) &amp;&amp; (hdr)-&gt;nlmsg_len &gt;= sizeof(struct nlmsghdr) &amp;&amp; (hdr)-&gt;nlmsg_len &lt;= (quint32(len)))" data-ref="_M/NLMSG_OK">NLMSG_OK</a>(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>, <a class="typedef" href="../../corelib/global/qtypes.h.html#quint32" title='quint32' data-type='unsigned int' data-ref="quint32">quint32</a>(<a class="local col6 ref" href="#16len" title='len' data-ref="16len">len</a>)))</td></tr>
<tr><th id="137">137</th><td>                <b>return</b>;</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>            <em>auto</em> <dfn class="local col7 decl" id="17arg" title='arg' data-type='auto' data-ref="17arg">arg</dfn> = <b>reinterpret_cast</b>&lt;<a class="tu typedef" href="#(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument" title='(anonymous namespace)::ProcessNetlinkRequest::FirstArgument' data-type='typename FunctionTraits::Arguments::Car' data-ref="(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument">FirstArgument</a>&gt;(<a class="macro" href="../../../../include/linux/netlink.h.html#94" title="((void*)(((char*)hdr) + ((0) + ((int) ( ((sizeof(struct nlmsghdr))+4U-1) &amp; ~(4U-1) )))))" data-ref="_M/NLMSG_DATA">NLMSG_DATA</a>(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>));</td></tr>
<tr><th id="140">140</th><td>            <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col8 decl" id="18payloadLen" title='payloadLen' data-type='size_t' data-ref="18payloadLen">payloadLen</dfn> = <a class="macro" href="../../../../include/linux/netlink.h.html#100" title="((hdr)-&gt;nlmsg_len - ( (((((0)) + ((int) ( ((sizeof(struct nlmsghdr))+4U-1) &amp; ~(4U-1) ))))+4U-1) &amp; ~(4U-1) ))" data-ref="_M/NLMSG_PAYLOAD">NLMSG_PAYLOAD</a>(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>, <var>0</var>);</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td>            <i>// is this a multipart message?</i></td></tr>
<tr><th id="143">143</th><td>            <a class="macro" href="../../corelib/global/qassert.h.html#28" title="static_cast&lt;void&gt;(false &amp;&amp; (isDump == !!(hdr-&gt;nlmsg_flags &amp; 0x02)))" data-ref="_M/Q_ASSERT">Q_ASSERT</a>(<a class="local col5 ref" href="#15isDump" title='isDump' data-ref="15isDump">isDump</a> == !!(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>-&gt;<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_flags" title='nlmsghdr::nlmsg_flags' data-ref="nlmsghdr::nlmsg_flags">nlmsg_flags</a> &amp; <a class="macro" href="../../../../include/linux/netlink.h.html#55" title="0x02" data-ref="_M/NLM_F_MULTI">NLM_F_MULTI</a>));</td></tr>
<tr><th id="144">144</th><td>            <b>if</b> (!<a class="local col5 ref" href="#15isDump" title='isDump' data-ref="15isDump">isDump</a>) {</td></tr>
<tr><th id="145">145</th><td>                <i>// no, single message</i></td></tr>
<tr><th id="146">146</th><td>                <b>if</b> (<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>-&gt;<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_type" title='nlmsghdr::nlmsg_type' data-ref="nlmsghdr::nlmsg_type">nlmsg_type</a> == <a class="local col4 ref" href="#14expectedType" title='expectedType' data-ref="14expectedType">expectedType</a> &amp;&amp; <a class="local col8 ref" href="#18payloadLen" title='payloadLen' data-ref="18payloadLen">payloadLen</a> &gt;= <b>sizeof</b>(<a class="tu typedef" href="#(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument" title='(anonymous namespace)::ProcessNetlinkRequest::FirstArgument' data-type='typename FunctionTraits::Arguments::Car' data-ref="(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument">FirstArgument</a>))</td></tr>
<tr><th id="147">147</th><td>                    <b>return</b> <em>void</em>(<a class="local col3 ref" href="#13func" title='func' data-ref="13func">func</a>(<a class="local col7 ref" href="#17arg" title='arg' data-ref="17arg">arg</a>, <a class="local col8 ref" href="#18payloadLen" title='payloadLen' data-ref="18payloadLen">payloadLen</a>));</td></tr>
<tr><th id="148">148</th><td>            } <b>else</b> {</td></tr>
<tr><th id="149">149</th><td>                <i>// multipart, parse until done</i></td></tr>
<tr><th id="150">150</th><td>                <b>do</b> {</td></tr>
<tr><th id="151">151</th><td>                    <b>if</b> (<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>-&gt;<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_type" title='nlmsghdr::nlmsg_type' data-ref="nlmsghdr::nlmsg_type">nlmsg_type</a> == <a class="macro" href="../../../../include/linux/netlink.h.html#104" title="0x3" data-ref="_M/NLMSG_DONE">NLMSG_DONE</a>)</td></tr>
<tr><th id="152">152</th><td>                        <b>return</b>;</td></tr>
<tr><th id="153">153</th><td>                    <b>if</b> (<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>-&gt;<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_type" title='nlmsghdr::nlmsg_type' data-ref="nlmsghdr::nlmsg_type">nlmsg_type</a> != <a class="local col4 ref" href="#14expectedType" title='expectedType' data-ref="14expectedType">expectedType</a> || <a class="local col8 ref" href="#18payloadLen" title='payloadLen' data-ref="18payloadLen">payloadLen</a> &lt; <b>sizeof</b>(<a class="tu typedef" href="#(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument" title='(anonymous namespace)::ProcessNetlinkRequest::FirstArgument' data-type='typename FunctionTraits::Arguments::Car' data-ref="(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument">FirstArgument</a>))</td></tr>
<tr><th id="154">154</th><td>                        <b>break</b>;</td></tr>
<tr><th id="155">155</th><td>                    <a class="local col3 ref" href="#13func" title='func' data-ref="13func">func</a>(<a class="local col7 ref" href="#17arg" title='arg' data-ref="17arg">arg</a>, <a class="local col8 ref" href="#18payloadLen" title='payloadLen' data-ref="18payloadLen">payloadLen</a>);</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td>                    <i>// NLMSG_NEXT also updates the len variable</i></td></tr>
<tr><th id="158">158</th><td>                    <a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a> = <a class="macro" href="../../../../include/linux/netlink.h.html#95" title="((len) -= ( (((hdr)-&gt;nlmsg_len)+4U-1) &amp; ~(4U-1) ), (struct nlmsghdr*)(((char*)(hdr)) + ( (((hdr)-&gt;nlmsg_len)+4U-1) &amp; ~(4U-1) )))" data-ref="_M/NLMSG_NEXT">NLMSG_NEXT</a>(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>, <a class="local col6 ref" href="#16len" title='len' data-ref="16len">len</a>);</td></tr>
<tr><th id="159">159</th><td>                    <a class="local col7 ref" href="#17arg" title='arg' data-ref="17arg">arg</a> = <b>reinterpret_cast</b>&lt;<a class="tu typedef" href="#(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument" title='(anonymous namespace)::ProcessNetlinkRequest::FirstArgument' data-type='typename FunctionTraits::Arguments::Car' data-ref="(anonymousnamespace)::ProcessNetlinkRequest::FirstArgument">FirstArgument</a>&gt;(<a class="macro" href="../../../../include/linux/netlink.h.html#94" title="((void*)(((char*)hdr) + ((0) + ((int) ( ((sizeof(struct nlmsghdr))+4U-1) &amp; ~(4U-1) )))))" data-ref="_M/NLMSG_DATA">NLMSG_DATA</a>(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>));</td></tr>
<tr><th id="160">160</th><td>                    <a class="local col8 ref" href="#18payloadLen" title='payloadLen' data-ref="18payloadLen">payloadLen</a> = <a class="macro" href="../../../../include/linux/netlink.h.html#100" title="((hdr)-&gt;nlmsg_len - ( (((((0)) + ((int) ( ((sizeof(struct nlmsghdr))+4U-1) &amp; ~(4U-1) ))))+4U-1) &amp; ~(4U-1) ))" data-ref="_M/NLMSG_PAYLOAD">NLMSG_PAYLOAD</a>(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>, <var>0</var>);</td></tr>
<tr><th id="161">161</th><td>                } <b>while</b> (<a class="macro" href="../../../../include/linux/netlink.h.html#97" title="((quint32(len)) &gt;= (int)sizeof(struct nlmsghdr) &amp;&amp; (hdr)-&gt;nlmsg_len &gt;= sizeof(struct nlmsghdr) &amp;&amp; (hdr)-&gt;nlmsg_len &lt;= (quint32(len)))" data-ref="_M/NLMSG_OK">NLMSG_OK</a>(<a class="local col0 ref" href="#10hdr" title='hdr' data-ref="10hdr">hdr</a>, <a class="typedef" href="../../corelib/global/qtypes.h.html#quint32" title='quint32' data-type='unsigned int' data-ref="quint32">quint32</a>(<a class="local col6 ref" href="#16len" title='len' data-ref="16len">len</a>)));</td></tr>
<tr><th id="162">162</th><td></td></tr>
<tr><th id="163">163</th><td>                <b>if</b> (<a class="local col6 ref" href="#16len" title='len' data-ref="16len">len</a> == <var>0</var>)</td></tr>
<tr><th id="164">164</th><td>                    <b>continue</b>;       <i>// get new datagram</i></td></tr>
<tr><th id="165">165</th><td>            }</td></tr>
<tr><th id="166">166</th><td></td></tr>
<tr><th id="167">167</th><td><u>#<span data-ppcond="167">ifndef</span> <span class="macro" data-ref="_M/QT_NO_DEBUG">QT_NO_DEBUG</span></u></td></tr>
<tr><th id="168">168</th><td>            <b>if</b> (NLMSG_OK(hdr, quint32(len)))</td></tr>
<tr><th id="169">169</th><td>                qWarning(<q>"QNetworkInterface/AF_NETLINK: received unknown packet type (%d) or too short (%u)"</q>,</td></tr>
<tr><th id="170">170</th><td>                         hdr-&gt;nlmsg_type, hdr-&gt;nlmsg_len);</td></tr>
<tr><th id="171">171</th><td>            <b>else</b></td></tr>
<tr><th id="172">172</th><td>                qWarning(<q>"QNetworkInterface/AF_NETLINK: received invalid packet with size %d"</q>, <em>int</em>(len));</td></tr>
<tr><th id="173">173</th><td><u>#<span data-ppcond="167">endif</span></u></td></tr>
<tr><th id="174">174</th><td>            <b>return</b>;</td></tr>
<tr><th id="175">175</th><td>        }</td></tr>
<tr><th id="176">176</th><td>    }</td></tr>
<tr><th id="177">177</th><td>};</td></tr>
<tr><th id="178">178</th><td></td></tr>
<tr><th id="179">179</th><td><b>template</b> &lt;<b>typename</b> Lambda&gt;</td></tr>
<tr><th id="180">180</th><td><em>void</em> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_121processNetlinkRequestEiP8nlmsghdrPcmOT_" title='(anonymous namespace)::processNetlinkRequest' data-type='void (anonymous namespace)::processNetlinkRequest(int sock, struct nlmsghdr * hdr, char * buf, size_t bufsize, Lambda &amp;&amp; l)' data-ref="_ZN12_GLOBAL__N_121processNetlinkRequestEiP8nlmsghdrPcmOT_">processNetlinkRequest</dfn>(<em>int</em> <dfn class="local col9 decl" id="19sock" title='sock' data-type='int' data-ref="19sock">sock</dfn>, <b>struct</b> <a class="type" href="../../../../include/linux/netlink.h.html#nlmsghdr" title='nlmsghdr' data-ref="nlmsghdr">nlmsghdr</a> *<dfn class="local col0 decl" id="20hdr" title='hdr' data-type='struct nlmsghdr *' data-ref="20hdr">hdr</dfn>, <em>char</em> *<dfn class="local col1 decl" id="21buf" title='buf' data-type='char *' data-ref="21buf">buf</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col2 decl" id="22bufsize" title='bufsize' data-type='size_t' data-ref="22bufsize">bufsize</dfn>, Lambda &amp;&amp;<dfn class="local col3 decl" id="23l" title='l' data-type='Lambda &amp;&amp;' data-ref="23l">l</dfn>)</td></tr>
<tr><th id="181">181</th><td>{</td></tr>
<tr><th id="182">182</th><td>    <a class="tu type" href="#(anonymousnamespace)::ProcessNetlinkRequest" title='(anonymous namespace)::ProcessNetlinkRequest' data-ref="(anonymousnamespace)::ProcessNetlinkRequest">ProcessNetlinkRequest</a>&lt;Lambda&gt;()(<a class="local col9 ref" href="#19sock" title='sock' data-ref="19sock">sock</a>, <a class="local col0 ref" href="#20hdr" title='hdr' data-ref="20hdr">hdr</a>, <a class="local col1 ref" href="#21buf" title='buf' data-ref="21buf">buf</a>, <a class="local col2 ref" href="#22bufsize" title='bufsize' data-ref="22bufsize">bufsize</a>, <span class="namespace">std::</span>forward&lt;Lambda&gt;(<a class="local col3 ref" href="#23l" title='l' data-ref="23l">l</a>));</td></tr>
<tr><th id="183">183</th><td>}</td></tr>
<tr><th id="184">184</th><td>}</td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td><a class="typedef" href="../../../../include/x86_64-linux-gnu/sys/types.h.html#uint" title='uint' data-type='unsigned int' data-ref="uint">uint</a> <a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfaceManager" title='QNetworkInterfaceManager' data-ref="QNetworkInterfaceManager">QNetworkInterfaceManager</a>::<dfn class="decl def fn" id="_ZN24QNetworkInterfaceManager22interfaceIndexFromNameERK7QString" title='QNetworkInterfaceManager::interfaceIndexFromName' data-ref="_ZN24QNetworkInterfaceManager22interfaceIndexFromNameERK7QString">interfaceIndexFromName</dfn>(<em>const</em> <a class="type" href="../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a> &amp;<dfn class="local col4 decl" id="24name" title='name' data-type='const QString &amp;' data-ref="24name">name</dfn>)</td></tr>
<tr><th id="187">187</th><td>{</td></tr>
<tr><th id="188">188</th><td>    <a class="typedef" href="../../../../include/x86_64-linux-gnu/sys/types.h.html#uint" title='uint' data-type='unsigned int' data-ref="uint">uint</a> <dfn class="local col5 decl" id="25index" title='index' data-type='uint' data-ref="25index">index</dfn> = <var>0</var>;</td></tr>
<tr><th id="189">189</th><td>    <b>if</b> (<a class="local col4 ref" href="#24name" title='name' data-ref="24name">name</a>.<a class="ref fn" href="../../corelib/text/qstring.h.html#_ZNK7QString4sizeEv" title='QString::size' data-ref="_ZNK7QString4sizeEv">size</a>() &gt;= <a class="macro" href="../../../../include/linux/if.h.html#31" title="16" data-ref="_M/IFNAMSIZ">IFNAMSIZ</a>)</td></tr>
<tr><th id="190">190</th><td>        <b>return</b> <a class="local col5 ref" href="#25index" title='index' data-ref="25index">index</a>;</td></tr>
<tr><th id="191">191</th><td></td></tr>
<tr><th id="192">192</th><td>    <em>int</em> <dfn class="local col6 decl" id="26socket" title='socket' data-type='int' data-ref="26socket">socket</dfn> = <a class="ref fn" href="../socket/qnet_unix_p.h.html#_ZL14qt_safe_socketiiii" title='qt_safe_socket' data-ref="_ZL14qt_safe_socketiiii">qt_safe_socket</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket.h.html#96" title="2" data-ref="_M/AF_INET">AF_INET</a>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket_type.h.html#31" title="SOCK_DGRAM" data-ref="_M/SOCK_DGRAM">SOCK_DGRAM</a>, <span class='inlayHint'>protocol:&nbsp;</span><var>0</var>);</td></tr>
<tr><th id="193">193</th><td>    <b>if</b> (<a class="local col6 ref" href="#26socket" title='socket' data-ref="26socket">socket</a> &gt;= <var>0</var>) {</td></tr>
<tr><th id="194">194</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/if.h.html#ifreq" title='ifreq' data-ref="ifreq">ifreq</a> <a class="ref fn fake" href="../../../../include/linux/if.h.html#229" title='ifreq::ifreq' data-ref="_ZN5ifreqC1Ev"></a><dfn class="local col7 decl" id="27req" title='req' data-type='struct ifreq' data-ref="27req">req</dfn>;</td></tr>
<tr><th id="195">195</th><td>        <a class="local col7 ref" href="#27req" title='req' data-ref="27req">req</a>.<a class="macro" href="../../../../include/linux/if.h.html#266" title="ifr_ifru.ifru_ivalue" data-ref="_M/ifr_ifindex">ifr_ifindex</a> = <var>0</var>;</td></tr>
<tr><th id="196">196</th><td>        <a class="ref fn" href="../../../../include/string.h.html#strcpy" title='strcpy' data-ref="strcpy">strcpy</a>(<span class='inlayHint'>dest:&nbsp;</span><a class="local col7 ref" href="#27req" title='req' data-ref="27req">req</a>.<a class="macro" href="../../../../include/linux/if.h.html#254" title="ifr_ifrn.ifrn_name" data-ref="_M/ifr_name">ifr_name</a>, <span class='inlayHint'>src:&nbsp;</span><a class="local col4 ref" href="#24name" title='name' data-ref="24name">name</a>.<a class="ref fn" href="../../corelib/text/qstring.h.html#_ZNKR7QString8toLatin1Ev" title='QString::toLatin1' data-ref="_ZNKR7QString8toLatin1Ev">toLatin1</a>().<a class="ref fn" href="../../corelib/text/qbytearray.h.html#_ZNK10QByteArray9constDataEv" title='QByteArray::constData' data-ref="_ZNK10QByteArray9constDataEv">constData</a>());</td></tr>
<tr><th id="197">197</th><td></td></tr>
<tr><th id="198">198</th><td>        <b>if</b> (<a class="ref fn" href="../socket/qnet_unix_p.h.html#_ZL13qt_safe_ioctlimT_" title='qt_safe_ioctl' data-ref="_ZL13qt_safe_ioctlimT_">qt_safe_ioctl</a>(<span class='inlayHint'>sockfd:&nbsp;</span><a class="local col6 ref" href="#26socket" title='socket' data-ref="26socket">socket</a>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/ioctls.h.html#59" title="0x8933" data-ref="_M/SIOCGIFINDEX">SIOCGIFINDEX</a>, <span class='inlayHint'>arg:&nbsp;</span>&amp;<a class="local col7 ref" href="#27req" title='req' data-ref="27req">req</a>) &gt;= <var>0</var>)</td></tr>
<tr><th id="199">199</th><td>            <a class="local col5 ref" href="#25index" title='index' data-ref="25index">index</a> = <a class="local col7 ref" href="#27req" title='req' data-ref="27req">req</a>.<a class="macro" href="../../../../include/linux/if.h.html#266" title="ifr_ifru.ifru_ivalue" data-ref="_M/ifr_ifindex">ifr_ifindex</a>;</td></tr>
<tr><th id="200">200</th><td>        <a class="ref fn" href="../../corelib/kernel/qcore_unix_p.h.html#_ZL13qt_safe_closei" title='qt_safe_close' data-ref="_ZL13qt_safe_closei">qt_safe_close</a>(<span class='inlayHint'>fd:&nbsp;</span><a class="local col6 ref" href="#26socket" title='socket' data-ref="26socket">socket</a>);</td></tr>
<tr><th id="201">201</th><td>    }</td></tr>
<tr><th id="202">202</th><td>    <b>return</b> <a class="local col5 ref" href="#25index" title='index' data-ref="25index">index</a>;</td></tr>
<tr><th id="203">203</th><td>}</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td><a class="type" href="../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a> <a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfaceManager" title='QNetworkInterfaceManager' data-ref="QNetworkInterfaceManager">QNetworkInterfaceManager</a>::<dfn class="decl def fn" id="_ZN24QNetworkInterfaceManager22interfaceNameFromIndexEj" title='QNetworkInterfaceManager::interfaceNameFromIndex' data-ref="_ZN24QNetworkInterfaceManager22interfaceNameFromIndexEj">interfaceNameFromIndex</dfn>(<a class="typedef" href="../../../../include/x86_64-linux-gnu/sys/types.h.html#uint" title='uint' data-type='unsigned int' data-ref="uint">uint</a> <dfn class="local col8 decl" id="28index" title='index' data-type='uint' data-ref="28index">index</dfn>)</td></tr>
<tr><th id="206">206</th><td>{</td></tr>
<tr><th id="207">207</th><td>    <em>int</em> <dfn class="local col9 decl" id="29socket" title='socket' data-type='int' data-ref="29socket">socket</dfn> = <a class="ref fn" href="../socket/qnet_unix_p.h.html#_ZL14qt_safe_socketiiii" title='qt_safe_socket' data-ref="_ZL14qt_safe_socketiiii">qt_safe_socket</a>(<a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket.h.html#96" title="2" data-ref="_M/AF_INET">AF_INET</a>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket_type.h.html#31" title="SOCK_DGRAM" data-ref="_M/SOCK_DGRAM">SOCK_DGRAM</a>, <span class='inlayHint'>protocol:&nbsp;</span><var>0</var>);</td></tr>
<tr><th id="208">208</th><td>    <b>if</b> (<a class="local col9 ref" href="#29socket" title='socket' data-ref="29socket">socket</a> &gt;= <var>0</var>) {</td></tr>
<tr><th id="209">209</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/if.h.html#ifreq" title='ifreq' data-ref="ifreq">ifreq</a> <a class="ref fn fake" href="../../../../include/linux/if.h.html#229" title='ifreq::ifreq' data-ref="_ZN5ifreqC1Ev"></a><dfn class="local col0 decl" id="30req" title='req' data-type='struct ifreq' data-ref="30req">req</dfn>;</td></tr>
<tr><th id="210">210</th><td>        <a class="local col0 ref" href="#30req" title='req' data-ref="30req">req</a>.<a class="macro" href="../../../../include/linux/if.h.html#266" title="ifr_ifru.ifru_ivalue" data-ref="_M/ifr_ifindex">ifr_ifindex</a> = <a class="local col8 ref" href="#28index" title='index' data-ref="28index">index</a>;</td></tr>
<tr><th id="211">211</th><td></td></tr>
<tr><th id="212">212</th><td>        <b>if</b> (<a class="ref fn" href="../socket/qnet_unix_p.h.html#_ZL13qt_safe_ioctlimT_" title='qt_safe_ioctl' data-ref="_ZL13qt_safe_ioctlimT_">qt_safe_ioctl</a>(<span class='inlayHint'>sockfd:&nbsp;</span><a class="local col9 ref" href="#29socket" title='socket' data-ref="29socket">socket</a>, <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/ioctls.h.html#31" title="0x8910" data-ref="_M/SIOCGIFNAME">SIOCGIFNAME</a>, <span class='inlayHint'>arg:&nbsp;</span>&amp;<a class="local col0 ref" href="#30req" title='req' data-ref="30req">req</a>) &gt;= <var>0</var>) {</td></tr>
<tr><th id="213">213</th><td>            <a class="ref fn" href="../../corelib/kernel/qcore_unix_p.h.html#_ZL13qt_safe_closei" title='qt_safe_close' data-ref="_ZL13qt_safe_closei">qt_safe_close</a>(<span class='inlayHint'>fd:&nbsp;</span><a class="local col9 ref" href="#29socket" title='socket' data-ref="29socket">socket</a>);</td></tr>
<tr><th id="214">214</th><td>            <b>return</b> <a class="type" href="../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a>::<a class="ref fn" href="../../corelib/text/qstring.h.html#_ZN7QString10fromLatin1E14QByteArrayView" title='QString::fromLatin1' data-ref="_ZN7QString10fromLatin1E14QByteArrayView">fromLatin1</a>(<a class="ref fn fake" href="../../corelib/text/qbytearrayview.h.html#_ZN14QByteArrayViewC1ERAT__Kc" title='QByteArrayView::QByteArrayView' data-ref="_ZN14QByteArrayViewC1ERAT__Kc"></a><span class='inlayHint'>ba:&nbsp;</span><a class="local col0 ref" href="#30req" title='req' data-ref="30req">req</a>.<a class="macro" href="../../../../include/linux/if.h.html#254" title="ifr_ifrn.ifrn_name" data-ref="_M/ifr_name">ifr_name</a>);</td></tr>
<tr><th id="215">215</th><td>        }</td></tr>
<tr><th id="216">216</th><td>        <a class="ref fn" href="../../corelib/kernel/qcore_unix_p.h.html#_ZL13qt_safe_closei" title='qt_safe_close' data-ref="_ZL13qt_safe_closei">qt_safe_close</a>(<span class='inlayHint'>fd:&nbsp;</span><a class="local col9 ref" href="#29socket" title='socket' data-ref="29socket">socket</a>);</td></tr>
<tr><th id="217">217</th><td>    }</td></tr>
<tr><th id="218">218</th><td>    <b>return</b> <a class="type" href="../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a><a class="ref fn" href="../../corelib/text/qstring.h.html#_ZN7QStringC1Ev" title='QString::QString' data-ref="_ZN7QStringC1Ev">(</a>);</td></tr>
<tr><th id="219">219</th><td>}</td></tr>
<tr><th id="220">220</th><td></td></tr>
<tr><th id="221">221</th><td><em>static</em> <a class="type" href="../../corelib/tools/qcontainerfwd.h.html#QList" title='QList' data-ref="QList">QList</a>&lt;<a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate" title='QNetworkInterfacePrivate' data-ref="QNetworkInterfacePrivate">QNetworkInterfacePrivate</a> *&gt; <dfn class="tu decl def fn" id="_ZL13getInterfacesiPc" title='getInterfaces' data-type='QList&lt;QNetworkInterfacePrivate *&gt; getInterfaces(int sock, char * buf)' data-ref="_ZL13getInterfacesiPc">getInterfaces</dfn>(<em>int</em> <dfn class="local col1 decl" id="31sock" title='sock' data-type='int' data-ref="31sock">sock</dfn>, <em>char</em> *<dfn class="local col2 decl" id="32buf" title='buf' data-type='char *' data-ref="32buf">buf</dfn>)</td></tr>
<tr><th id="222">222</th><td>{</td></tr>
<tr><th id="223">223</th><td>    <a class="type" href="../../corelib/tools/qcontainerfwd.h.html#QList" title='QList' data-ref="QList">QList</a>&lt;<a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate" title='QNetworkInterfacePrivate' data-ref="QNetworkInterfacePrivate">QNetworkInterfacePrivate</a> *&gt; <a class="ref fn fake" href="../../corelib/tools/qlist.h.html#_ZN5QListC1Ev" title='QList::QList&lt;T&gt;' data-ref="_ZN5QListC1Ev"></a><dfn class="local col3 decl" id="33result" title='result' data-type='QList&lt;QNetworkInterfacePrivate *&gt;' data-ref="33result">result</dfn>;</td></tr>
<tr><th id="224">224</th><td>    <b>struct</b> <a class="type" href="../../../../include/linux/if.h.html#ifreq" title='ifreq' data-ref="ifreq">ifreq</a> <a class="ref fn fake" href="../../../../include/linux/if.h.html#229" title='ifreq::ifreq' data-ref="_ZN5ifreqC1Ev"></a><dfn class="local col4 decl" id="34req" title='req' data-type='struct ifreq' data-ref="34req">req</dfn>;</td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td>    <i>// request all links</i></td></tr>
<tr><th id="227">227</th><td>    <b>struct</b> {</td></tr>
<tr><th id="228">228</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/netlink.h.html#nlmsghdr" title='nlmsghdr' data-ref="nlmsghdr">nlmsghdr</a> <dfn class="local col5 decl field" id="35req" title='req' data-type='struct nlmsghdr' data-ref="35req">req</dfn>;</td></tr>
<tr><th id="229">229</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/rtnetlink.h.html#ifinfomsg" title='ifinfomsg' data-ref="ifinfomsg">ifinfomsg</a> <dfn class="local col6 decl field" id="36ifi" title='ifi' data-type='struct ifinfomsg' data-ref="36ifi">ifi</dfn>;</td></tr>
<tr><th id="230">230</th><td>    } <dfn class="local col7 decl" id="37ifi_req" title='ifi_req' data-type='struct (unnamed struct at /home/lzx0626/DavidingPlus/qtbase/src/network/kernel/qnetworkinterface_linux.cpp:227:5)' data-ref="37ifi_req">ifi_req</dfn>;</td></tr>
<tr><th id="231">231</th><td>    <a class="ref fn" href="../../../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(<span class='inlayHint'>s:&nbsp;</span>&amp;<a class="local col7 ref" href="#37ifi_req" title='ifi_req' data-ref="37ifi_req">ifi_req</a>, <span class='inlayHint'>c:&nbsp;</span><var>0</var>, <span class='inlayHint'>n:&nbsp;</span><b>sizeof</b>(<a class="local col7 ref" href="#37ifi_req" title='ifi_req' data-ref="37ifi_req">ifi_req</a>));</td></tr>
<tr><th id="232">232</th><td></td></tr>
<tr><th id="233">233</th><td>    <a class="local col7 ref" href="#37ifi_req" title='ifi_req' data-ref="37ifi_req">ifi_req</a>.<a class="local col5 ref field" href="#35req" title='req' data-ref="35req">req</a>.<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_len" title='nlmsghdr::nlmsg_len' data-ref="nlmsghdr::nlmsg_len">nlmsg_len</a> = <b>sizeof</b>(<a class="local col7 ref" href="#37ifi_req" title='ifi_req' data-ref="37ifi_req">ifi_req</a>);</td></tr>
<tr><th id="234">234</th><td>    <a class="local col7 ref" href="#37ifi_req" title='ifi_req' data-ref="37ifi_req">ifi_req</a>.<a class="local col5 ref field" href="#35req" title='req' data-ref="35req">req</a>.<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_flags" title='nlmsghdr::nlmsg_flags' data-ref="nlmsghdr::nlmsg_flags">nlmsg_flags</a> = <a class="macro" href="../../../../include/linux/netlink.h.html#54" title="0x01" data-ref="_M/NLM_F_REQUEST">NLM_F_REQUEST</a> | <a class="macro" href="../../../../include/linux/netlink.h.html#65" title="(0x100|0x200)" data-ref="_M/NLM_F_DUMP">NLM_F_DUMP</a>;</td></tr>
<tr><th id="235">235</th><td>    <a class="local col7 ref" href="#37ifi_req" title='ifi_req' data-ref="37ifi_req">ifi_req</a>.<a class="local col5 ref field" href="#35req" title='req' data-ref="35req">req</a>.<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_type" title='nlmsghdr::nlmsg_type' data-ref="nlmsghdr::nlmsg_type">nlmsg_type</a> = <a class="macro" href="../../../../include/linux/rtnetlink.h.html#33" title="RTM_GETLINK" data-ref="_M/RTM_GETLINK">RTM_GETLINK</a>;</td></tr>
<tr><th id="236">236</th><td></td></tr>
<tr><th id="237">237</th><td>    <i>// parse the interfaces</i></td></tr>
<tr><th id="238">238</th><td>    <a class="tu ref fn" href="#_ZN12_GLOBAL__N_121processNetlinkRequestEiP8nlmsghdrPcmOT_" title='(anonymous namespace)::processNetlinkRequest' data-use='c' data-ref="_ZN12_GLOBAL__N_121processNetlinkRequestEiP8nlmsghdrPcmOT_">processNetlinkRequest</a>(<a class="local col1 ref" href="#31sock" title='sock' data-ref="31sock">sock</a>, <span class='inlayHint'>hdr:&nbsp;</span>&amp;<a class="local col7 ref" href="#37ifi_req" title='ifi_req' data-ref="37ifi_req">ifi_req</a>.<a class="local col5 ref field" href="#35req" title='req' data-ref="35req">req</a>, <a class="local col2 ref" href="#32buf" title='buf' data-ref="32buf">buf</a>, <span class='inlayHint'>bufsize:&nbsp;</span><a class="enum" href="#BufferSize" title='BufferSize' data-ref="BufferSize">BufferSize</a>, <span class='inlayHint'>l:&nbsp;</span>[&amp;](<a class="type" href="../../../../include/linux/rtnetlink.h.html#ifinfomsg" title='ifinfomsg' data-ref="ifinfomsg">ifinfomsg</a> *<dfn class="local col8 decl" id="38ifi" title='ifi' data-type='ifinfomsg *' data-ref="38ifi">ifi</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col9 decl" id="39len" title='len' data-type='size_t' data-ref="39len">len</dfn>) {</td></tr>
<tr><th id="239">239</th><td>        <em>auto</em> <dfn class="local col0 decl" id="40iface" title='iface' data-type='QNetworkInterfacePrivate *' data-ref="40iface">iface</dfn> = <b>new</b> <a class="ref fn fake" href="qnetworkinterface_p.h.html#_ZN24QNetworkInterfacePrivateC1Ev" title='QNetworkInterfacePrivate::QNetworkInterfacePrivate' data-ref="_ZN24QNetworkInterfacePrivateC1Ev"></a><a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate" title='QNetworkInterfacePrivate' data-ref="QNetworkInterfacePrivate">QNetworkInterfacePrivate</a>;</td></tr>
<tr><th id="240">240</th><td>        <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::index" title='QNetworkInterfacePrivate::index' data-ref="QNetworkInterfacePrivate::index">index</a> = <a class="local col8 ref" href="#38ifi" title='ifi' data-ref="38ifi">ifi</a>-&gt;<a class="ref field" href="../../../../include/linux/rtnetlink.h.html#ifinfomsg::ifi_index" title='ifinfomsg::ifi_index' data-ref="ifinfomsg::ifi_index">ifi_index</a>;</td></tr>
<tr><th id="241">241</th><td>        <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::flags" title='QNetworkInterfacePrivate::flags' data-ref="QNetworkInterfacePrivate::flags">flags</a> <a class="ref fn" href="../../corelib/global/qflags.h.html#52" title='QFlags&lt;QNetworkInterface::InterfaceFlag&gt;::operator=' data-ref="_ZN6QFlagsIN17QNetworkInterface13InterfaceFlagEEaSEOS2_">=</a> <a class="ref fn" href="qnetworkinterface_unix_p.h.html#_ZL12convertFlagsj" title='convertFlags' data-ref="_ZL12convertFlagsj">convertFlags</a>(<span class='inlayHint'>rawFlags:&nbsp;</span><a class="local col8 ref" href="#38ifi" title='ifi' data-ref="38ifi">ifi</a>-&gt;<a class="ref field" href="../../../../include/linux/rtnetlink.h.html#ifinfomsg::ifi_flags" title='ifinfomsg::ifi_flags' data-ref="ifinfomsg::ifi_flags">ifi_flags</a>);</td></tr>
<tr><th id="242">242</th><td></td></tr>
<tr><th id="243">243</th><td>        <i>// read attributes</i></td></tr>
<tr><th id="244">244</th><td>        <em>auto</em> <dfn class="local col1 decl" id="41rta" title='rta' data-type='struct rtattr *' data-ref="41rta">rta</dfn> = <b>reinterpret_cast</b>&lt;<b>struct</b> <a class="type" href="../../../../include/linux/rtnetlink.h.html#rtattr" title='rtattr' data-ref="rtattr">rtattr</a> *&gt;(<a class="local col8 ref" href="#38ifi" title='ifi' data-ref="38ifi">ifi</a> + <var>1</var>);</td></tr>
<tr><th id="245">245</th><td>        <a class="local col9 ref" href="#39len" title='len' data-ref="39len">len</a> -= <b>sizeof</b>(*<a class="local col8 ref" href="#38ifi" title='ifi' data-ref="38ifi">ifi</a>);</td></tr>
<tr><th id="246">246</th><td>        <b>for</b> ( ; <a class="macro" href="../../../../include/linux/rtnetlink.h.html#190" title="((len) &gt;= (int)sizeof(struct rtattr) &amp;&amp; (rta)-&gt;rta_len &gt;= sizeof(struct rtattr) &amp;&amp; (rta)-&gt;rta_len &lt;= (len))" data-ref="_M/RTA_OK">RTA_OK</a>(<a class="local col1 ref" href="#41rta" title='rta' data-ref="41rta">rta</a>, <a class="local col9 ref" href="#39len" title='len' data-ref="39len">len</a>); <a class="local col1 ref" href="#41rta" title='rta' data-ref="41rta">rta</a> = <a class="macro" href="../../../../include/linux/rtnetlink.h.html#193" title="((len) -= ( (((rta)-&gt;rta_len)+4U-1) &amp; ~(4U-1) ), (struct rtattr*)(((char*)(rta)) + ( (((rta)-&gt;rta_len)+4U-1) &amp; ~(4U-1) )))" data-ref="_M/RTA_NEXT">RTA_NEXT</a>(<a class="local col1 ref" href="#41rta" title='rta' data-ref="41rta">rta</a>, <a class="local col9 ref" href="#39len" title='len' data-ref="39len">len</a>)) {</td></tr>
<tr><th id="247">247</th><td>            <em>int</em> <dfn class="local col2 decl" id="42payloadLen" title='payloadLen' data-type='int' data-ref="42payloadLen">payloadLen</dfn> = <a class="macro" href="../../../../include/linux/rtnetlink.h.html#198" title="((int)((rta)-&gt;rta_len) - (( ((sizeof(struct rtattr))+4U-1) &amp; ~(4U-1) ) + (0)))" data-ref="_M/RTA_PAYLOAD">RTA_PAYLOAD</a>(<a class="local col1 ref" href="#41rta" title='rta' data-ref="41rta">rta</a>);</td></tr>
<tr><th id="248">248</th><td>            <em>auto</em> <dfn class="local col3 decl" id="43payloadPtr" title='payloadPtr' data-type='char *' data-ref="43payloadPtr">payloadPtr</dfn> = <b>reinterpret_cast</b>&lt;<em>char</em> *&gt;(<a class="macro" href="../../../../include/linux/rtnetlink.h.html#197" title="((void*)(((char*)(rta)) + (( ((sizeof(struct rtattr))+4U-1) &amp; ~(4U-1) ) + (0))))" data-ref="_M/RTA_DATA">RTA_DATA</a>(<a class="local col1 ref" href="#41rta" title='rta' data-ref="41rta">rta</a>));</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td>            <b>switch</b> (<a class="local col1 ref" href="#41rta" title='rta' data-ref="41rta">rta</a>-&gt;<a class="ref field" href="../../../../include/linux/rtnetlink.h.html#rtattr::rta_type" title='rtattr::rta_type' data-ref="rtattr::rta_type">rta_type</a>) {</td></tr>
<tr><th id="251">251</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_link.h.html#IFLA_ADDRESS" title='IFLA_ADDRESS' data-ref="IFLA_ADDRESS">IFLA_ADDRESS</a>:      <i>// link-level address</i></td></tr>
<tr><th id="252">252</th><td>                <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::hardwareAddress" title='QNetworkInterfacePrivate::hardwareAddress' data-ref="QNetworkInterfacePrivate::hardwareAddress">hardwareAddress</a> <a class="ref fn" href="../../corelib/text/qstring.h.html#470" title='QString::operator=' data-ref="_ZN7QStringaSEOS_">=</a></td></tr>
<tr><th id="253">253</th><td>                        <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref fn" href="qnetworkinterface_p.h.html#_ZN24QNetworkInterfacePrivate13makeHwAddressEiPh" title='QNetworkInterfacePrivate::makeHwAddress' data-ref="_ZN24QNetworkInterfacePrivate13makeHwAddressEiPh">makeHwAddress</a>(<span class='inlayHint'>len:&nbsp;</span><a class="local col2 ref" href="#42payloadLen" title='payloadLen' data-ref="42payloadLen">payloadLen</a>, <span class='inlayHint'>data:&nbsp;</span><b>reinterpret_cast</b>&lt;<a class="typedef" href="../../corelib/global/qtypes.h.html#uchar" title='uchar' data-type='unsigned char' data-ref="uchar">uchar</a> *&gt;(<a class="local col3 ref" href="#43payloadPtr" title='payloadPtr' data-ref="43payloadPtr">payloadPtr</a>));</td></tr>
<tr><th id="254">254</th><td>                <b>break</b>;</td></tr>
<tr><th id="255">255</th><td></td></tr>
<tr><th id="256">256</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_link.h.html#IFLA_IFNAME" title='IFLA_IFNAME' data-ref="IFLA_IFNAME">IFLA_IFNAME</a>:       <i>// interface name</i></td></tr>
<tr><th id="257">257</th><td>                <a class="macro" href="../../corelib/global/qassert.h.html#28" title="static_cast&lt;void&gt;(false &amp;&amp; (payloadLen &lt;= int(sizeof(req.ifr_ifrn.ifrn_name))))" data-ref="_M/Q_ASSERT">Q_ASSERT</a>(<a class="local col2 ref" href="#42payloadLen" title='payloadLen' data-ref="42payloadLen">payloadLen</a> &lt;= <em>int</em>(<b>sizeof</b>(<a class="local col4 ref" href="#34req" title='req' data-ref="34req">req</a>.<a class="macro" href="../../../../include/linux/if.h.html#254" title="ifr_ifrn.ifrn_name" data-ref="_M/ifr_name">ifr_name</a>)));</td></tr>
<tr><th id="258">258</th><td>                <a class="ref fn" href="../../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy">memcpy</a>(<span class='inlayHint'>dest:&nbsp;</span><a class="local col4 ref" href="#34req" title='req' data-ref="34req">req</a>.<a class="macro" href="../../../../include/linux/if.h.html#254" title="ifr_ifrn.ifrn_name" data-ref="_M/ifr_name">ifr_name</a>, <span class='inlayHint'>src:&nbsp;</span><a class="local col3 ref" href="#43payloadPtr" title='payloadPtr' data-ref="43payloadPtr">payloadPtr</a>, <span class='inlayHint'>n:&nbsp;</span><a class="local col2 ref" href="#42payloadLen" title='payloadLen' data-ref="42payloadLen">payloadLen</a>);   <i>// including terminating NUL</i></td></tr>
<tr><th id="259">259</th><td>                <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::name" title='QNetworkInterfacePrivate::name' data-ref="QNetworkInterfacePrivate::name">name</a> <a class="ref fn" href="../../corelib/text/qstring.h.html#470" title='QString::operator=' data-ref="_ZN7QStringaSEOS_">=</a> <a class="type" href="../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a>::<a class="ref fn" href="../../corelib/text/qstring.h.html#_ZN7QString10fromLatin1EPKcx" title='QString::fromLatin1' data-ref="_ZN7QString10fromLatin1EPKcx">fromLatin1</a>(<span class='inlayHint'>str:&nbsp;</span><a class="local col3 ref" href="#43payloadPtr" title='payloadPtr' data-ref="43payloadPtr">payloadPtr</a>, <span class='inlayHint'>size:&nbsp;</span><a class="local col2 ref" href="#42payloadLen" title='payloadLen' data-ref="42payloadLen">payloadLen</a> - <var>1</var>);</td></tr>
<tr><th id="260">260</th><td>                <b>break</b>;</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_link.h.html#IFLA_MTU" title='IFLA_MTU' data-ref="IFLA_MTU">IFLA_MTU</a>:</td></tr>
<tr><th id="263">263</th><td>                <a class="macro" href="../../corelib/global/qassert.h.html#28" title="static_cast&lt;void&gt;(false &amp;&amp; (payloadLen == sizeof(int)))" data-ref="_M/Q_ASSERT">Q_ASSERT</a>(<a class="local col2 ref" href="#42payloadLen" title='payloadLen' data-ref="42payloadLen">payloadLen</a> == <b>sizeof</b>(<em>int</em>));</td></tr>
<tr><th id="264">264</th><td>                <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::mtu" title='QNetworkInterfacePrivate::mtu' data-ref="QNetworkInterfacePrivate::mtu">mtu</a> = *<b>reinterpret_cast</b>&lt;<em>int</em> *&gt;(<a class="local col3 ref" href="#43payloadPtr" title='payloadPtr' data-ref="43payloadPtr">payloadPtr</a>);</td></tr>
<tr><th id="265">265</th><td>                <b>break</b>;</td></tr>
<tr><th id="266">266</th><td></td></tr>
<tr><th id="267">267</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_link.h.html#IFLA_OPERSTATE" title='IFLA_OPERSTATE' data-ref="IFLA_OPERSTATE">IFLA_OPERSTATE</a>:    <i>// operational state</i></td></tr>
<tr><th id="268">268</th><td>                <b>if</b> (*<a class="local col3 ref" href="#43payloadPtr" title='payloadPtr' data-ref="43payloadPtr">payloadPtr</a> != <a class="enum" href="../../../../include/linux/if.h.html#IF_OPER_UNKNOWN" title='IF_OPER_UNKNOWN' data-ref="IF_OPER_UNKNOWN">IF_OPER_UNKNOWN</a>) {</td></tr>
<tr><th id="269">269</th><td>                    <i>// override the flag</i></td></tr>
<tr><th id="270">270</th><td>                    <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::flags" title='QNetworkInterfacePrivate::flags' data-ref="QNetworkInterfacePrivate::flags">flags</a> <a class="ref fn" href="../../corelib/global/qflags.h.html#_ZN6QFlagsaNEi" title='QFlags::operator&amp;=' data-ref="_ZN6QFlagsaNEi">&amp;=</a> ~<a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::IsRunning" title='QNetworkInterface::IsRunning' data-ref="QNetworkInterface::IsRunning">IsRunning</a>;</td></tr>
<tr><th id="271">271</th><td>                    <b>if</b> (*<a class="local col3 ref" href="#43payloadPtr" title='payloadPtr' data-ref="43payloadPtr">payloadPtr</a> == <a class="enum" href="../../../../include/linux/if.h.html#IF_OPER_UP" title='IF_OPER_UP' data-ref="IF_OPER_UP">IF_OPER_UP</a>)</td></tr>
<tr><th id="272">272</th><td>                        <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::flags" title='QNetworkInterfacePrivate::flags' data-ref="QNetworkInterfacePrivate::flags">flags</a> <a class="ref fn" href="../../corelib/global/qflags.h.html#_ZN6QFlagsoRET_" title='QFlags::operator|=' data-ref="_ZN6QFlagsoRET_">|=</a> <a class="type" href="qnetworkinterface.h.html#QNetworkInterface" title='QNetworkInterface' data-ref="QNetworkInterface">QNetworkInterface</a>::<a class="enum" href="qnetworkinterface.h.html#QNetworkInterface::IsRunning" title='QNetworkInterface::IsRunning' data-ref="QNetworkInterface::IsRunning">IsRunning</a>;</td></tr>
<tr><th id="273">273</th><td>                }</td></tr>
<tr><th id="274">274</th><td>                <b>break</b>;</td></tr>
<tr><th id="275">275</th><td>            }</td></tr>
<tr><th id="276">276</th><td>        }</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>        <b>if</b> (<a class="macro" href="../../corelib/global/qcompilerdetection.h.html#194" title="__builtin_expect(!!(iface-&gt;name.isEmpty()), false)" data-ref="_M/Q_UNLIKELY">Q_UNLIKELY</a>(<a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::name" title='QNetworkInterfacePrivate::name' data-ref="QNetworkInterfacePrivate::name">name</a>.<a class="ref fn" href="../../corelib/text/qstring.h.html#_ZNK7QString7isEmptyEv" title='QString::isEmpty' data-ref="_ZNK7QString7isEmptyEv">isEmpty</a>())) {</td></tr>
<tr><th id="279">279</th><td>            <a class="macro" href="../../corelib/global/qlogging.h.html#158" title="QMessageLogger(nullptr, 0, nullptr).warning" data-ref="_M/qWarning">qWarning</a>(<span class='inlayHint'>msg:&nbsp;</span><q>"QNetworkInterface: found interface %d with no name"</q>, <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::index" title='QNetworkInterfacePrivate::index' data-ref="QNetworkInterfacePrivate::index">index</a>);</td></tr>
<tr><th id="280">280</th><td>            <b>delete</b> <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>;</td></tr>
<tr><th id="281">281</th><td>        } <b>else</b> {</td></tr>
<tr><th id="282">282</th><td>            <a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::type" title='QNetworkInterfacePrivate::type' data-ref="QNetworkInterfacePrivate::type">type</a> = <a class="tu ref fn" href="#_ZL11probeIfTypeiP5ifreqs" title='probeIfType' data-use='c' data-ref="_ZL11probeIfTypeiP5ifreqs">probeIfType</a>(<span class='inlayHint'>socket:&nbsp;</span><a class="local col1 ref" href="#31sock" title='sock' data-ref="31sock">sock</a>, <span class='inlayHint'>req:&nbsp;</span>&amp;<a class="local col4 ref" href="#34req" title='req' data-ref="34req">req</a>, <span class='inlayHint'>arptype:&nbsp;</span><a class="local col8 ref" href="#38ifi" title='ifi' data-ref="38ifi">ifi</a>-&gt;<a class="ref field" href="../../../../include/linux/rtnetlink.h.html#ifinfomsg::ifi_type" title='ifinfomsg::ifi_type' data-ref="ifinfomsg::ifi_type">ifi_type</a>);</td></tr>
<tr><th id="283">283</th><td>            <a class="local col3 ref" href="#33result" title='result' data-ref="33result">result</a>.<a class="ref fn" href="../../corelib/tools/qlist.h.html#_ZN5QList6appendEN17QArrayDataPointerIT_E14parameter_typeE" title='QList::append' data-ref="_ZN5QList6appendEN17QArrayDataPointerIT_E14parameter_typeE">append</a>(<span class='inlayHint'>t:&nbsp;</span><a class="local col0 ref" href="#40iface" title='iface' data-ref="40iface">iface</a>);</td></tr>
<tr><th id="284">284</th><td>        }</td></tr>
<tr><th id="285">285</th><td>    });</td></tr>
<tr><th id="286">286</th><td>    <b>return</b> <a class="ref fn fake" href="../../corelib/tools/qlist.h.html#68" title='QList&lt;QNetworkInterfacePrivate *&gt;::QList' data-ref="_ZN5QListIP24QNetworkInterfacePrivateEC1EOS2_"></a><a class="local col3 ref" href="#33result" title='result' data-ref="33result">result</a>;</td></tr>
<tr><th id="287">287</th><td>}</td></tr>
<tr><th id="288">288</th><td></td></tr>
<tr><th id="289">289</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL12getAddressesiPcR5QListIP24QNetworkInterfacePrivateE" title='getAddresses' data-type='void getAddresses(int sock, char * buf, QList&lt;QNetworkInterfacePrivate *&gt; &amp; result)' data-ref="_ZL12getAddressesiPcR5QListIP24QNetworkInterfacePrivateE">getAddresses</dfn>(<em>int</em> <dfn class="local col4 decl" id="44sock" title='sock' data-type='int' data-ref="44sock">sock</dfn>, <em>char</em> *<dfn class="local col5 decl" id="45buf" title='buf' data-type='char *' data-ref="45buf">buf</dfn>, <a class="type" href="../../corelib/tools/qcontainerfwd.h.html#QList" title='QList' data-ref="QList">QList</a>&lt;<a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate" title='QNetworkInterfacePrivate' data-ref="QNetworkInterfacePrivate">QNetworkInterfacePrivate</a> *&gt; &amp;<dfn class="local col6 decl" id="46result" title='result' data-type='QList&lt;QNetworkInterfacePrivate *&gt; &amp;' data-ref="46result">result</dfn>)</td></tr>
<tr><th id="290">290</th><td>{</td></tr>
<tr><th id="291">291</th><td>    <i>// request all addresses</i></td></tr>
<tr><th id="292">292</th><td>    <b>struct</b> {</td></tr>
<tr><th id="293">293</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/netlink.h.html#nlmsghdr" title='nlmsghdr' data-ref="nlmsghdr">nlmsghdr</a> <dfn class="local col7 decl field" id="47req" title='req' data-type='struct nlmsghdr' data-ref="47req">req</dfn>;</td></tr>
<tr><th id="294">294</th><td>        <b>struct</b> <a class="type" href="../../../../include/linux/if_addr.h.html#ifaddrmsg" title='ifaddrmsg' data-ref="ifaddrmsg">ifaddrmsg</a> <dfn class="local col8 decl field" id="48ifa" title='ifa' data-type='struct ifaddrmsg' data-ref="48ifa">ifa</dfn>;</td></tr>
<tr><th id="295">295</th><td>    } <dfn class="local col9 decl" id="49ifa_req" title='ifa_req' data-type='struct (unnamed struct at /home/lzx0626/DavidingPlus/qtbase/src/network/kernel/qnetworkinterface_linux.cpp:292:5)' data-ref="49ifa_req">ifa_req</dfn>;</td></tr>
<tr><th id="296">296</th><td>    <a class="ref fn" href="../../../../include/string.h.html#memset" title='memset' data-ref="memset">memset</a>(<span class='inlayHint'>s:&nbsp;</span>&amp;<a class="local col9 ref" href="#49ifa_req" title='ifa_req' data-ref="49ifa_req">ifa_req</a>, <span class='inlayHint'>c:&nbsp;</span><var>0</var>, <span class='inlayHint'>n:&nbsp;</span><b>sizeof</b>(<a class="local col9 ref" href="#49ifa_req" title='ifa_req' data-ref="49ifa_req">ifa_req</a>));</td></tr>
<tr><th id="297">297</th><td></td></tr>
<tr><th id="298">298</th><td>    <a class="local col9 ref" href="#49ifa_req" title='ifa_req' data-ref="49ifa_req">ifa_req</a>.<a class="local col7 ref field" href="#47req" title='req' data-ref="47req">req</a>.<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_len" title='nlmsghdr::nlmsg_len' data-ref="nlmsghdr::nlmsg_len">nlmsg_len</a> = <b>sizeof</b>(<a class="local col9 ref" href="#49ifa_req" title='ifa_req' data-ref="49ifa_req">ifa_req</a>);</td></tr>
<tr><th id="299">299</th><td>    <a class="local col9 ref" href="#49ifa_req" title='ifa_req' data-ref="49ifa_req">ifa_req</a>.<a class="local col7 ref field" href="#47req" title='req' data-ref="47req">req</a>.<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_flags" title='nlmsghdr::nlmsg_flags' data-ref="nlmsghdr::nlmsg_flags">nlmsg_flags</a> = <a class="macro" href="../../../../include/linux/netlink.h.html#54" title="0x01" data-ref="_M/NLM_F_REQUEST">NLM_F_REQUEST</a> | <a class="macro" href="../../../../include/linux/netlink.h.html#65" title="(0x100|0x200)" data-ref="_M/NLM_F_DUMP">NLM_F_DUMP</a>;</td></tr>
<tr><th id="300">300</th><td>    <a class="local col9 ref" href="#49ifa_req" title='ifa_req' data-ref="49ifa_req">ifa_req</a>.<a class="local col7 ref field" href="#47req" title='req' data-ref="47req">req</a>.<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_type" title='nlmsghdr::nlmsg_type' data-ref="nlmsghdr::nlmsg_type">nlmsg_type</a> = <a class="macro" href="../../../../include/linux/rtnetlink.h.html#42" title="RTM_GETADDR" data-ref="_M/RTM_GETADDR">RTM_GETADDR</a>;</td></tr>
<tr><th id="301">301</th><td>    <a class="local col9 ref" href="#49ifa_req" title='ifa_req' data-ref="49ifa_req">ifa_req</a>.<a class="local col7 ref field" href="#47req" title='req' data-ref="47req">req</a>.<a class="ref field" href="../../../../include/linux/netlink.h.html#nlmsghdr::nlmsg_seq" title='nlmsghdr::nlmsg_seq' data-ref="nlmsghdr::nlmsg_seq">nlmsg_seq</a> = <var>1</var>;</td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td>    <i>// parse the addresses</i></td></tr>
<tr><th id="304">304</th><td>    <a class="tu ref fn" href="#_ZN12_GLOBAL__N_121processNetlinkRequestEiP8nlmsghdrPcmOT_" title='(anonymous namespace)::processNetlinkRequest' data-use='c' data-ref="_ZN12_GLOBAL__N_121processNetlinkRequestEiP8nlmsghdrPcmOT_">processNetlinkRequest</a>(<a class="local col4 ref" href="#44sock" title='sock' data-ref="44sock">sock</a>, <span class='inlayHint'>hdr:&nbsp;</span>&amp;<a class="local col9 ref" href="#49ifa_req" title='ifa_req' data-ref="49ifa_req">ifa_req</a>.<a class="local col7 ref field" href="#47req" title='req' data-ref="47req">req</a>, <a class="local col5 ref" href="#45buf" title='buf' data-ref="45buf">buf</a>, <span class='inlayHint'>bufsize:&nbsp;</span><a class="enum" href="#BufferSize" title='BufferSize' data-ref="BufferSize">BufferSize</a>, <span class='inlayHint'>l:&nbsp;</span>[&amp;](<a class="type" href="../../../../include/linux/if_addr.h.html#ifaddrmsg" title='ifaddrmsg' data-ref="ifaddrmsg">ifaddrmsg</a> *<dfn class="local col0 decl" id="50ifa" title='ifa' data-type='ifaddrmsg *' data-ref="50ifa">ifa</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col1 decl" id="51len" title='len' data-type='size_t' data-ref="51len">len</dfn>) {</td></tr>
<tr><th id="305">305</th><td>        <b>if</b> (<a class="macro" href="../../corelib/global/qcompilerdetection.h.html#194" title="__builtin_expect(!!(ifa-&gt;ifa_family != 2 &amp;&amp; ifa-&gt;ifa_family != 10), false)" data-ref="_M/Q_UNLIKELY">Q_UNLIKELY</a>(<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_family" title='ifaddrmsg::ifa_family' data-ref="ifaddrmsg::ifa_family">ifa_family</a> != <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket.h.html#96" title="2" data-ref="_M/AF_INET">AF_INET</a> &amp;&amp; <a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_family" title='ifaddrmsg::ifa_family' data-ref="ifaddrmsg::ifa_family">ifa_family</a> != <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket.h.html#104" title="10" data-ref="_M/AF_INET6">AF_INET6</a>)) {</td></tr>
<tr><th id="306">306</th><td>            <i>// unknown address types</i></td></tr>
<tr><th id="307">307</th><td>            <b>return</b>;</td></tr>
<tr><th id="308">308</th><td>        }</td></tr>
<tr><th id="309">309</th><td></td></tr>
<tr><th id="310">310</th><td>        <i>// find the interface this is relevant to</i></td></tr>
<tr><th id="311">311</th><td>        <a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate" title='QNetworkInterfacePrivate' data-ref="QNetworkInterfacePrivate">QNetworkInterfacePrivate</a> *<dfn class="local col2 decl" id="52iface" title='iface' data-type='QNetworkInterfacePrivate *' data-ref="52iface">iface</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="312">312</th><td>        <b>for</b> (<em>auto</em> <dfn class="local col3 decl" id="53candidate" title='candidate' data-type='QNetworkInterfacePrivate *' data-ref="53candidate">candidate</dfn> : <span class="namespace">std::</span><a class="ref fn" href="../../../../include/c++/9/utility.html#_ZSt8as_constRT_" title='std::as_const' data-ref="_ZSt8as_constRT_">as_const</a>(<span class='inlayHint'>t&amp;:&nbsp;</span><span class='refarg'><a class="local col6 ref" href="#46result" title='result' data-ref="46result">result</a></span>)) {</td></tr>
<tr><th id="313">313</th><td>            <b>if</b> (<a class="local col3 ref" href="#53candidate" title='candidate' data-ref="53candidate">candidate</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::index" title='QNetworkInterfacePrivate::index' data-ref="QNetworkInterfacePrivate::index">index</a> != <em>int</em>(<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_index" title='ifaddrmsg::ifa_index' data-ref="ifaddrmsg::ifa_index">ifa_index</a>))</td></tr>
<tr><th id="314">314</th><td>                <b>continue</b>;</td></tr>
<tr><th id="315">315</th><td>            <a class="local col2 ref" href="#52iface" title='iface' data-ref="52iface">iface</a> = <a class="local col3 ref" href="#53candidate" title='candidate' data-ref="53candidate">candidate</a>;</td></tr>
<tr><th id="316">316</th><td>            <b>break</b>;</td></tr>
<tr><th id="317">317</th><td>        }</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td>        <b>if</b> (<a class="macro" href="../../corelib/global/qcompilerdetection.h.html#194" title="__builtin_expect(!!(!iface), false)" data-ref="_M/Q_UNLIKELY">Q_UNLIKELY</a>(!<a class="local col2 ref" href="#52iface" title='iface' data-ref="52iface">iface</a>)) {</td></tr>
<tr><th id="320">320</th><td>            <a class="macro" href="../../corelib/global/qlogging.h.html#158" title="QMessageLogger(nullptr, 0, nullptr).warning" data-ref="_M/qWarning">qWarning</a>(<span class='inlayHint'>msg:&nbsp;</span><q>"QNetworkInterface/AF_NETLINK: found unknown interface with index %d"</q>, <a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_index" title='ifaddrmsg::ifa_index' data-ref="ifaddrmsg::ifa_index">ifa_index</a>);</td></tr>
<tr><th id="321">321</th><td>            <b>return</b>;</td></tr>
<tr><th id="322">322</th><td>        }</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>        <a class="type" href="qnetworkinterface.h.html#QNetworkAddressEntry" title='QNetworkAddressEntry' data-ref="QNetworkAddressEntry">QNetworkAddressEntry</a> <a class="ref fn fake" href="qnetworkinterface.h.html#_ZN20QNetworkAddressEntryC1Ev" title='QNetworkAddressEntry::QNetworkAddressEntry' data-ref="_ZN20QNetworkAddressEntryC1Ev"></a><dfn class="local col4 decl" id="54entry" title='entry' data-type='QNetworkAddressEntry' data-ref="54entry">entry</dfn>;</td></tr>
<tr><th id="325">325</th><td>        <a class="typedef" href="../../corelib/global/qtypes.h.html#quint32" title='quint32' data-type='unsigned int' data-ref="quint32">quint32</a> <dfn class="local col5 decl" id="55flags" title='flags' data-type='quint32' data-ref="55flags">flags</dfn> = <a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_flags" title='ifaddrmsg::ifa_flags' data-ref="ifaddrmsg::ifa_flags">ifa_flags</a>;  <i>// may be overwritten by IFA_FLAGS</i></td></tr>
<tr><th id="326">326</th><td></td></tr>
<tr><th id="327">327</th><td>        <em>auto</em> <dfn class="local col6 decl" id="56makeAddress" title='makeAddress' data-type='(lambda at /home/lzx0626/DavidingPlus/qtbase/src/network/kernel/qnetworkinterface_linux.cpp:327:28)' data-ref="56makeAddress">makeAddress</dfn> = [=](<a class="typedef" href="../../corelib/global/qtypes.h.html#uchar" title='uchar' data-type='unsigned char' data-ref="uchar">uchar</a> *<dfn class="local col7 decl" id="57ptr" title='ptr' data-type='uchar *' data-ref="57ptr">ptr</dfn>, <em>int</em> <dfn class="local col8 decl" id="58len" title='len' data-type='int' data-ref="58len">len</dfn>) {</td></tr>
<tr><th id="328">328</th><td>            <a class="type" href="qhostaddress.h.html#QHostAddress" title='QHostAddress' data-ref="QHostAddress">QHostAddress</a> <a class="ref fn fake" href="qhostaddress.h.html#_ZN12QHostAddressC1Ev" title='QHostAddress::QHostAddress' data-ref="_ZN12QHostAddressC1Ev"></a><dfn class="local col9 decl" id="59addr" title='addr' data-type='QHostAddress' data-ref="59addr">addr</dfn>;</td></tr>
<tr><th id="329">329</th><td>            <b>if</b> (<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_family" title='ifaddrmsg::ifa_family' data-ref="ifaddrmsg::ifa_family">ifa_family</a> == <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket.h.html#96" title="2" data-ref="_M/AF_INET">AF_INET</a>) {</td></tr>
<tr><th id="330">330</th><td>                <a class="macro" href="../../corelib/global/qassert.h.html#28" title="static_cast&lt;void&gt;(false &amp;&amp; (len == 4))" data-ref="_M/Q_ASSERT">Q_ASSERT</a>(<a class="local col8 ref" href="#58len" title='len' data-ref="58len">len</a> == <var>4</var>);</td></tr>
<tr><th id="331">331</th><td>                <a class="local col9 ref" href="#59addr" title='addr' data-ref="59addr">addr</a>.<a class="ref fn" href="qhostaddress.h.html#_ZN12QHostAddress10setAddressEj" title='QHostAddress::setAddress' data-ref="_ZN12QHostAddress10setAddressEj">setAddress</a>(<a class="ref fn" href="../../corelib/global/qendian.h.html#_Z14qFromBigEndianPKv" title='qFromBigEndian' data-ref="_Z14qFromBigEndianPKv">qFromBigEndian</a>&lt;<a class="typedef" href="../../corelib/global/qtypes.h.html#quint32" title='quint32' data-type='unsigned int' data-ref="quint32">quint32</a>&gt;(<span class='inlayHint'>src:&nbsp;</span><a class="local col7 ref" href="#57ptr" title='ptr' data-ref="57ptr">ptr</a>));</td></tr>
<tr><th id="332">332</th><td>            } <b>else</b> {</td></tr>
<tr><th id="333">333</th><td>                <a class="macro" href="../../corelib/global/qassert.h.html#28" title="static_cast&lt;void&gt;(false &amp;&amp; (len == 16))" data-ref="_M/Q_ASSERT">Q_ASSERT</a>(<a class="local col8 ref" href="#58len" title='len' data-ref="58len">len</a> == <var>16</var>);</td></tr>
<tr><th id="334">334</th><td>                <a class="local col9 ref" href="#59addr" title='addr' data-ref="59addr">addr</a>.<a class="ref fn" href="qhostaddress.h.html#_ZN12QHostAddress10setAddressEPKh" title='QHostAddress::setAddress' data-ref="_ZN12QHostAddress10setAddressEPKh">setAddress</a>(<a class="local col7 ref" href="#57ptr" title='ptr' data-ref="57ptr">ptr</a>);</td></tr>
<tr><th id="335">335</th><td></td></tr>
<tr><th id="336">336</th><td>                <i>// do we need a scope ID?</i></td></tr>
<tr><th id="337">337</th><td>                <b>if</b> (<a class="local col9 ref" href="#59addr" title='addr' data-ref="59addr">addr</a>.<a class="ref fn" href="qhostaddress.h.html#_ZNK12QHostAddress11isLinkLocalEv" title='QHostAddress::isLinkLocal' data-ref="_ZNK12QHostAddress11isLinkLocalEv">isLinkLocal</a>())</td></tr>
<tr><th id="338">338</th><td>                    <a class="local col9 ref" href="#59addr" title='addr' data-ref="59addr">addr</a>.<a class="ref fn" href="qhostaddress.h.html#_ZN12QHostAddress10setScopeIdERK7QString" title='QHostAddress::setScopeId' data-ref="_ZN12QHostAddress10setScopeIdERK7QString">setScopeId</a>(<a class="local col2 ref" href="#52iface" title='iface' data-ref="52iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::name" title='QNetworkInterfacePrivate::name' data-ref="QNetworkInterfacePrivate::name">name</a>);</td></tr>
<tr><th id="339">339</th><td>            }</td></tr>
<tr><th id="340">340</th><td>            <b>return</b> <a class="ref fn fake" href="qhostaddress.h.html#_ZN12QHostAddressC1ERKS_" title='QHostAddress::QHostAddress' data-ref="_ZN12QHostAddressC1ERKS_"></a><a class="local col9 ref" href="#59addr" title='addr' data-ref="59addr">addr</a>;</td></tr>
<tr><th id="341">341</th><td>        };</td></tr>
<tr><th id="342">342</th><td></td></tr>
<tr><th id="343">343</th><td>        <i>// read attributes</i></td></tr>
<tr><th id="344">344</th><td>        <em>auto</em> <dfn class="local col0 decl" id="60rta" title='rta' data-type='struct rtattr *' data-ref="60rta">rta</dfn> = <b>reinterpret_cast</b>&lt;<b>struct</b> <a class="type" href="../../../../include/linux/rtnetlink.h.html#rtattr" title='rtattr' data-ref="rtattr">rtattr</a> *&gt;(<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a> + <var>1</var>);</td></tr>
<tr><th id="345">345</th><td>        <a class="local col1 ref" href="#51len" title='len' data-ref="51len">len</a> -= <b>sizeof</b>(*<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>);</td></tr>
<tr><th id="346">346</th><td>        <b>for</b> ( ; <a class="macro" href="../../../../include/linux/rtnetlink.h.html#190" title="((len) &gt;= (int)sizeof(struct rtattr) &amp;&amp; (rta)-&gt;rta_len &gt;= sizeof(struct rtattr) &amp;&amp; (rta)-&gt;rta_len &lt;= (len))" data-ref="_M/RTA_OK">RTA_OK</a>(<a class="local col0 ref" href="#60rta" title='rta' data-ref="60rta">rta</a>, <a class="local col1 ref" href="#51len" title='len' data-ref="51len">len</a>); <a class="local col0 ref" href="#60rta" title='rta' data-ref="60rta">rta</a> = <a class="macro" href="../../../../include/linux/rtnetlink.h.html#193" title="((len) -= ( (((rta)-&gt;rta_len)+4U-1) &amp; ~(4U-1) ), (struct rtattr*)(((char*)(rta)) + ( (((rta)-&gt;rta_len)+4U-1) &amp; ~(4U-1) )))" data-ref="_M/RTA_NEXT">RTA_NEXT</a>(<a class="local col0 ref" href="#60rta" title='rta' data-ref="60rta">rta</a>, <a class="local col1 ref" href="#51len" title='len' data-ref="51len">len</a>)) {</td></tr>
<tr><th id="347">347</th><td>            <em>int</em> <dfn class="local col1 decl" id="61payloadLen" title='payloadLen' data-type='int' data-ref="61payloadLen">payloadLen</dfn> = <a class="macro" href="../../../../include/linux/rtnetlink.h.html#198" title="((int)((rta)-&gt;rta_len) - (( ((sizeof(struct rtattr))+4U-1) &amp; ~(4U-1) ) + (0)))" data-ref="_M/RTA_PAYLOAD">RTA_PAYLOAD</a>(<a class="local col0 ref" href="#60rta" title='rta' data-ref="60rta">rta</a>);</td></tr>
<tr><th id="348">348</th><td>            <em>auto</em> <dfn class="local col2 decl" id="62payloadPtr" title='payloadPtr' data-type='uchar *' data-ref="62payloadPtr">payloadPtr</dfn> = <b>reinterpret_cast</b>&lt;<a class="typedef" href="../../corelib/global/qtypes.h.html#uchar" title='uchar' data-type='unsigned char' data-ref="uchar">uchar</a> *&gt;(<a class="macro" href="../../../../include/linux/rtnetlink.h.html#197" title="((void*)(((char*)(rta)) + (( ((sizeof(struct rtattr))+4U-1) &amp; ~(4U-1) ) + (0))))" data-ref="_M/RTA_DATA">RTA_DATA</a>(<a class="local col0 ref" href="#60rta" title='rta' data-ref="60rta">rta</a>));</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td>            <b>switch</b> (<a class="local col0 ref" href="#60rta" title='rta' data-ref="60rta">rta</a>-&gt;<a class="ref field" href="../../../../include/linux/rtnetlink.h.html#rtattr::rta_type" title='rtattr::rta_type' data-ref="rtattr::rta_type">rta_type</a>) {</td></tr>
<tr><th id="351">351</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_addr.h.html#IFA_ADDRESS" title='IFA_ADDRESS' data-ref="IFA_ADDRESS">IFA_ADDRESS</a>:</td></tr>
<tr><th id="352">352</th><td>                <i>// Local address (all interfaces except for point-to-point)</i></td></tr>
<tr><th id="353">353</th><td>                <b>if</b> (<a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>.<a class="ref fn" href="qnetworkinterface.h.html#_ZNK20QNetworkAddressEntry2ipEv" title='QNetworkAddressEntry::ip' data-ref="_ZNK20QNetworkAddressEntry2ipEv">ip</a>().<a class="ref fn" href="qhostaddress.h.html#_ZNK12QHostAddress6isNullEv" title='QHostAddress::isNull' data-ref="_ZNK12QHostAddress6isNullEv">isNull</a>())</td></tr>
<tr><th id="354">354</th><td>                    <a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>.<a class="ref fn" href="qnetworkinterface.h.html#_ZN20QNetworkAddressEntry5setIpERK12QHostAddress" title='QNetworkAddressEntry::setIp' data-ref="_ZN20QNetworkAddressEntry5setIpERK12QHostAddress">setIp</a>(<a class="local col6 ref" href="#56makeAddress" title='makeAddress' data-ref="56makeAddress">makeAddress</a>(<a class="local col2 ref" href="#62payloadPtr" title='payloadPtr' data-ref="62payloadPtr">payloadPtr</a>, <a class="local col1 ref" href="#61payloadLen" title='payloadLen' data-ref="61payloadLen">payloadLen</a>));</td></tr>
<tr><th id="355">355</th><td>                <b>break</b>;</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_addr.h.html#IFA_LOCAL" title='IFA_LOCAL' data-ref="IFA_LOCAL">IFA_LOCAL</a>:</td></tr>
<tr><th id="358">358</th><td>                <i>// Override the local address (point-to-point interfaces)</i></td></tr>
<tr><th id="359">359</th><td>                <a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>.<a class="ref fn" href="qnetworkinterface.h.html#_ZN20QNetworkAddressEntry5setIpERK12QHostAddress" title='QNetworkAddressEntry::setIp' data-ref="_ZN20QNetworkAddressEntry5setIpERK12QHostAddress">setIp</a>(<a class="local col6 ref" href="#56makeAddress" title='makeAddress' data-ref="56makeAddress">makeAddress</a>(<a class="local col2 ref" href="#62payloadPtr" title='payloadPtr' data-ref="62payloadPtr">payloadPtr</a>, <a class="local col1 ref" href="#61payloadLen" title='payloadLen' data-ref="61payloadLen">payloadLen</a>));</td></tr>
<tr><th id="360">360</th><td>                <b>break</b>;</td></tr>
<tr><th id="361">361</th><td></td></tr>
<tr><th id="362">362</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_addr.h.html#IFA_BROADCAST" title='IFA_BROADCAST' data-ref="IFA_BROADCAST">IFA_BROADCAST</a>:</td></tr>
<tr><th id="363">363</th><td>                <a class="macro" href="../../corelib/global/qassert.h.html#28" title="static_cast&lt;void&gt;(false &amp;&amp; (ifa-&gt;ifa_family == 2))" data-ref="_M/Q_ASSERT">Q_ASSERT</a>(<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_family" title='ifaddrmsg::ifa_family' data-ref="ifaddrmsg::ifa_family">ifa_family</a> == <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket.h.html#96" title="2" data-ref="_M/AF_INET">AF_INET</a>);</td></tr>
<tr><th id="364">364</th><td>                <a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>.<a class="ref fn" href="qnetworkinterface.h.html#_ZN20QNetworkAddressEntry12setBroadcastERK12QHostAddress" title='QNetworkAddressEntry::setBroadcast' data-ref="_ZN20QNetworkAddressEntry12setBroadcastERK12QHostAddress">setBroadcast</a>(<a class="local col6 ref" href="#56makeAddress" title='makeAddress' data-ref="56makeAddress">makeAddress</a>(<a class="local col2 ref" href="#62payloadPtr" title='payloadPtr' data-ref="62payloadPtr">payloadPtr</a>, <a class="local col1 ref" href="#61payloadLen" title='payloadLen' data-ref="61payloadLen">payloadLen</a>));</td></tr>
<tr><th id="365">365</th><td>                <b>break</b>;</td></tr>
<tr><th id="366">366</th><td></td></tr>
<tr><th id="367">367</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_addr.h.html#IFA_CACHEINFO" title='IFA_CACHEINFO' data-ref="IFA_CACHEINFO">IFA_CACHEINFO</a>:</td></tr>
<tr><th id="368">368</th><td>                <b>if</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span>(<a class="local col1 ref" href="#61payloadLen" title='payloadLen' data-ref="61payloadLen">payloadLen</a>) &gt;= <b>sizeof</b>(<a class="type" href="../../../../include/linux/if_addr.h.html#ifa_cacheinfo" title='ifa_cacheinfo' data-ref="ifa_cacheinfo">ifa_cacheinfo</a>)) {</td></tr>
<tr><th id="369">369</th><td>                    <em>auto</em> <dfn class="local col3 decl" id="63cacheinfo" title='cacheinfo' data-type='ifa_cacheinfo *' data-ref="63cacheinfo">cacheinfo</dfn> = <b>reinterpret_cast</b>&lt;<a class="type" href="../../../../include/linux/if_addr.h.html#ifa_cacheinfo" title='ifa_cacheinfo' data-ref="ifa_cacheinfo">ifa_cacheinfo</a> *&gt;(<a class="local col2 ref" href="#62payloadPtr" title='payloadPtr' data-ref="62payloadPtr">payloadPtr</a>);</td></tr>
<tr><th id="370">370</th><td>                    <em>auto</em> <dfn class="local col4 decl" id="64toDeadline" title='toDeadline' data-type='(lambda at /home/lzx0626/DavidingPlus/qtbase/src/network/kernel/qnetworkinterface_linux.cpp:370:39)' data-ref="64toDeadline">toDeadline</dfn> = [](<a class="typedef" href="../../corelib/global/qtypes.h.html#quint32" title='quint32' data-type='unsigned int' data-ref="quint32">quint32</a> <dfn class="local col5 decl" id="65lifetime" title='lifetime' data-type='quint32' data-ref="65lifetime">lifetime</dfn>) -&gt; <a class="type" href="../../corelib/kernel/qdeadlinetimer.h.html#QDeadlineTimer" title='QDeadlineTimer' data-ref="QDeadlineTimer">QDeadlineTimer</a> {</td></tr>
<tr><th id="371">371</th><td>                        <b>if</b> (<a class="local col5 ref" href="#65lifetime" title='lifetime' data-ref="65lifetime">lifetime</a> == <a class="typedef" href="../../corelib/global/qtypes.h.html#quint32" title='quint32' data-type='unsigned int' data-ref="quint32">quint32</a>(-<var>1</var>))</td></tr>
<tr><th id="372">372</th><td>                            <b>return</b> <a class="ref fn fake" href="../../corelib/kernel/qdeadlinetimer.h.html#_ZN14QDeadlineTimerC1ENS_15ForeverConstantEN2Qt9TimerTypeE" title='QDeadlineTimer::QDeadlineTimer' data-ref="_ZN14QDeadlineTimerC1ENS_15ForeverConstantEN2Qt9TimerTypeE"></a><a class="type" href="../../corelib/kernel/qdeadlinetimer.h.html#QDeadlineTimer" title='QDeadlineTimer' data-ref="QDeadlineTimer">QDeadlineTimer</a>::<a class="enum" href="../../corelib/kernel/qdeadlinetimer.h.html#QDeadlineTimer::Forever" title='QDeadlineTimer::Forever' data-ref="QDeadlineTimer::Forever">Forever</a>;</td></tr>
<tr><th id="373">373</th><td>                        <b>return</b> <a class="type" href="../../corelib/kernel/qdeadlinetimer.h.html#QDeadlineTimer" title='QDeadlineTimer' data-ref="QDeadlineTimer">QDeadlineTimer</a><a class="ref fn" href="../../corelib/kernel/qdeadlinetimer.h.html#_ZN14QDeadlineTimerC1ExN2Qt9TimerTypeE" title='QDeadlineTimer::QDeadlineTimer' data-ref="_ZN14QDeadlineTimerC1ExN2Qt9TimerTypeE">(</a><a class="local col5 ref" href="#65lifetime" title='lifetime' data-ref="65lifetime">lifetime</a> * <var>1000</var>);</td></tr>
<tr><th id="374">374</th><td>                    };</td></tr>
<tr><th id="375">375</th><td>                    <a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>.<a class="ref fn" href="qnetworkinterface.h.html#_ZN20QNetworkAddressEntry18setAddressLifetimeE14QDeadlineTimerS0_" title='QNetworkAddressEntry::setAddressLifetime' data-ref="_ZN20QNetworkAddressEntry18setAddressLifetimeE14QDeadlineTimerS0_">setAddressLifetime</a>(<span class='inlayHint'>preferred:&nbsp;</span><a class="local col4 ref" href="#64toDeadline" title='toDeadline' data-ref="64toDeadline">toDeadline</a>(<a class="local col3 ref" href="#63cacheinfo" title='cacheinfo' data-ref="63cacheinfo">cacheinfo</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifa_cacheinfo::ifa_prefered" title='ifa_cacheinfo::ifa_prefered' data-ref="ifa_cacheinfo::ifa_prefered">ifa_prefered</a>), <span class='inlayHint'>validity:&nbsp;</span><a class="local col4 ref" href="#64toDeadline" title='toDeadline' data-ref="64toDeadline">toDeadline</a>(<a class="local col3 ref" href="#63cacheinfo" title='cacheinfo' data-ref="63cacheinfo">cacheinfo</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifa_cacheinfo::ifa_valid" title='ifa_cacheinfo::ifa_valid' data-ref="ifa_cacheinfo::ifa_valid">ifa_valid</a>));</td></tr>
<tr><th id="376">376</th><td>                }</td></tr>
<tr><th id="377">377</th><td>                <b>break</b>;</td></tr>
<tr><th id="378">378</th><td></td></tr>
<tr><th id="379">379</th><td>            <b>case</b> <a class="enum" href="../../../../include/linux/if_addr.h.html#IFA_FLAGS" title='IFA_FLAGS' data-ref="IFA_FLAGS">IFA_FLAGS</a>:</td></tr>
<tr><th id="380">380</th><td>                <a class="macro" href="../../corelib/global/qassert.h.html#28" title="static_cast&lt;void&gt;(false &amp;&amp; (payloadLen == 4))" data-ref="_M/Q_ASSERT">Q_ASSERT</a>(<a class="local col1 ref" href="#61payloadLen" title='payloadLen' data-ref="61payloadLen">payloadLen</a> == <var>4</var>);</td></tr>
<tr><th id="381">381</th><td>                <a class="local col5 ref" href="#55flags" title='flags' data-ref="55flags">flags</a> = <a class="ref fn" href="../../corelib/global/qendian.h.html#_Z14qFromUnalignedPKv" title='qFromUnaligned' data-ref="_Z14qFromUnalignedPKv">qFromUnaligned</a>&lt;<a class="typedef" href="../../corelib/global/qtypes.h.html#quint32" title='quint32' data-type='unsigned int' data-ref="quint32">quint32</a>&gt;(<span class='inlayHint'>src:&nbsp;</span><a class="local col2 ref" href="#62payloadPtr" title='payloadPtr' data-ref="62payloadPtr">payloadPtr</a>);</td></tr>
<tr><th id="382">382</th><td>                <b>break</b>;</td></tr>
<tr><th id="383">383</th><td>            }</td></tr>
<tr><th id="384">384</th><td>        }</td></tr>
<tr><th id="385">385</th><td></td></tr>
<tr><th id="386">386</th><td>        <b>if</b> (<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_family" title='ifaddrmsg::ifa_family' data-ref="ifaddrmsg::ifa_family">ifa_family</a> == <a class="macro" href="../../../../include/x86_64-linux-gnu/bits/socket.h.html#104" title="10" data-ref="_M/AF_INET6">AF_INET6</a> &amp;&amp; (<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_flags" title='ifaddrmsg::ifa_flags' data-ref="ifaddrmsg::ifa_flags">ifa_flags</a> &amp; <a class="macro" href="../../../../include/linux/if_addr.h.html#49" title="0x08" data-ref="_M/IFA_F_DADFAILED">IFA_F_DADFAILED</a>))</td></tr>
<tr><th id="387">387</th><td>            <b>return</b>;</td></tr>
<tr><th id="388">388</th><td></td></tr>
<tr><th id="389">389</th><td>        <i>// now handle flags</i></td></tr>
<tr><th id="390">390</th><td>        <a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate" title='QNetworkInterfacePrivate' data-ref="QNetworkInterfacePrivate">QNetworkInterfacePrivate</a>::<a class="ref fn" href="qnetworkinterface_p.h.html#_ZN24QNetworkInterfacePrivate23calculateDnsEligibilityEP20QNetworkAddressEntrybb" title='QNetworkInterfacePrivate::calculateDnsEligibility' data-ref="_ZN24QNetworkInterfacePrivate23calculateDnsEligibilityEP20QNetworkAddressEntrybb">calculateDnsEligibility</a>(<span class='inlayHint'>entry:&nbsp;</span>&amp;<a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>,</td></tr>
<tr><th id="391">391</th><td>                                                          <span class='inlayHint'>isTemporary:&nbsp;</span><a class="local col5 ref" href="#55flags" title='flags' data-ref="55flags">flags</a> &amp; <a class="macro" href="../../../../include/linux/if_addr.h.html#45" title="0x01" data-ref="_M/IFA_F_TEMPORARY">IFA_F_TEMPORARY</a>,</td></tr>
<tr><th id="392">392</th><td>                                                          <span class='inlayHint'>isDeprecated:&nbsp;</span><a class="local col5 ref" href="#55flags" title='flags' data-ref="55flags">flags</a> &amp; <a class="macro" href="../../../../include/linux/if_addr.h.html#51" title="0x20" data-ref="_M/IFA_F_DEPRECATED">IFA_F_DEPRECATED</a>);</td></tr>
<tr><th id="393">393</th><td></td></tr>
<tr><th id="394">394</th><td></td></tr>
<tr><th id="395">395</th><td>        <b>if</b> (!<a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>.<a class="ref fn" href="qnetworkinterface.h.html#_ZNK20QNetworkAddressEntry2ipEv" title='QNetworkAddressEntry::ip' data-ref="_ZNK20QNetworkAddressEntry2ipEv">ip</a>().<a class="ref fn" href="qhostaddress.h.html#_ZNK12QHostAddress6isNullEv" title='QHostAddress::isNull' data-ref="_ZNK12QHostAddress6isNullEv">isNull</a>()) {</td></tr>
<tr><th id="396">396</th><td>            <a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>.<a class="ref fn" href="qnetworkinterface.h.html#_ZN20QNetworkAddressEntry15setPrefixLengthEi" title='QNetworkAddressEntry::setPrefixLength' data-ref="_ZN20QNetworkAddressEntry15setPrefixLengthEi">setPrefixLength</a>(<a class="local col0 ref" href="#50ifa" title='ifa' data-ref="50ifa">ifa</a>-&gt;<a class="ref field" href="../../../../include/linux/if_addr.h.html#ifaddrmsg::ifa_prefixlen" title='ifaddrmsg::ifa_prefixlen' data-ref="ifaddrmsg::ifa_prefixlen">ifa_prefixlen</a>);</td></tr>
<tr><th id="397">397</th><td>            <a class="local col2 ref" href="#52iface" title='iface' data-ref="52iface">iface</a>-&gt;<a class="ref field" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate::addressEntries" title='QNetworkInterfacePrivate::addressEntries' data-ref="QNetworkInterfacePrivate::addressEntries">addressEntries</a>.<a class="ref fn" href="../../corelib/tools/qlist.h.html#_ZN5QList6appendEN17QArrayDataPointerIT_E14parameter_typeE" title='QList::append' data-ref="_ZN5QList6appendEN17QArrayDataPointerIT_E14parameter_typeE">append</a>(<span class='inlayHint'>t:&nbsp;</span><a class="local col4 ref" href="#54entry" title='entry' data-ref="54entry">entry</a>);</td></tr>
<tr><th id="398">398</th><td>        }</td></tr>
<tr><th id="399">399</th><td>    });</td></tr>
<tr><th id="400">400</th><td>}</td></tr>
<tr><th id="401">401</th><td></td></tr>
<tr><th id="402">402</th><td><a class="type" href="../../corelib/tools/qcontainerfwd.h.html#QList" title='QList' data-ref="QList">QList</a>&lt;<a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate" title='QNetworkInterfacePrivate' data-ref="QNetworkInterfacePrivate">QNetworkInterfacePrivate</a> *&gt; <a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfaceManager" title='QNetworkInterfaceManager' data-ref="QNetworkInterfaceManager">QNetworkInterfaceManager</a>::<dfn class="decl def fn" id="_ZN24QNetworkInterfaceManager4scanEv" title='QNetworkInterfaceManager::scan' data-ref="_ZN24QNetworkInterfaceManager4scanEv">scan</dfn>()</td></tr>
<tr><th id="403">403</th><td>{</td></tr>
<tr><th id="404">404</th><td>    <i>// open netlink socket</i></td></tr>
<tr><th id="405">405</th><td>    <a class="type" href="../../corelib/tools/qcontainerfwd.h.html#QList" title='QList' data-ref="QList">QList</a>&lt;<a class="type" href="qnetworkinterface_p.h.html#QNetworkInterfacePrivate" title='QNetworkInterfacePrivate' data-ref="QNetworkInterfacePrivate">QNetworkInterfacePrivate</a> *&gt; <a class="ref fn fake" href="../../corelib/tools/qlist.h.html#_ZN5QListC1Ev" title='QList::QList&lt;T&gt;' data-ref="_ZN5QListC1Ev"></a><dfn class="local col6 decl" id="66result" title='result' data-type='QList&lt;QNetworkInterfacePrivate *&gt;' data-ref="66result">result</dfn>;</td></tr>
<tr><th id="406">406</th><td>    <a class="tu type" href="#(anonymousnamespace)::NetlinkSocket" title='(anonymous namespace)::NetlinkSocket' data-ref="(anonymousnamespace)::NetlinkSocket">NetlinkSocket</a> <dfn class="local col7 decl" id="67sock" title='sock' data-type='(anonymous namespace)::NetlinkSocket' data-ref="67sock">sock</dfn><a class="tu ref fn" href="#_ZN12_GLOBAL__N_113NetlinkSocketC1Ei" title='(anonymous namespace)::NetlinkSocket::NetlinkSocket' data-use='c' data-ref="_ZN12_GLOBAL__N_113NetlinkSocketC1Ei">(</a><a class="enum" href="#BufferSize" title='BufferSize' data-ref="BufferSize">BufferSize</a>);</td></tr>
<tr><th id="407">407</th><td>    <b>if</b> (<a class="macro" href="../../corelib/global/qcompilerdetection.h.html#194" title="__builtin_expect(!!(sock == -1), false)" data-ref="_M/Q_UNLIKELY">Q_UNLIKELY</a>(<a class="tu ref fn fake" href="#_ZNK12_GLOBAL__N_113NetlinkSocketcviEv" title='(anonymous namespace)::NetlinkSocket::operator int' data-use='c' data-ref="_ZNK12_GLOBAL__N_113NetlinkSocketcviEv"></a><a class="local col7 ref" href="#67sock" title='sock' data-ref="67sock">sock</a> == -<var>1</var>))</td></tr>
<tr><th id="408">408</th><td>        <b>return</b> <a class="ref fn fake" href="../../corelib/tools/qlist.h.html#68" title='QList&lt;QNetworkInterfacePrivate *&gt;::QList' data-ref="_ZN5QListIP24QNetworkInterfacePrivateEC1EOS2_"></a><a class="local col6 ref" href="#66result" title='result' data-ref="66result">result</a>;</td></tr>
<tr><th id="409">409</th><td></td></tr>
<tr><th id="410">410</th><td>    <a class="type" href="../../corelib/text/qbytearray.h.html#QByteArray" title='QByteArray' data-ref="QByteArray">QByteArray</a> <dfn class="local col8 decl" id="68buffer" title='buffer' data-type='QByteArray' data-ref="68buffer">buffer</dfn><a class="ref fn" href="../../corelib/text/qbytearray.h.html#_ZN10QByteArrayC1ExN2Qt14InitializationE" title='QByteArray::QByteArray' data-ref="_ZN10QByteArrayC1ExN2Qt14InitializationE">(</a><a class="enum" href="#BufferSize" title='BufferSize' data-ref="BufferSize">BufferSize</a>, <span class="namespace">Qt::</span><a class="ref" href="../../corelib/global/qnamespace.h.html#Qt::Uninitialized" title='Qt::Uninitialized' data-ref="Qt::Uninitialized">Uninitialized</a>);</td></tr>
<tr><th id="411">411</th><td>    <em>char</em> *<dfn class="local col9 decl" id="69buf" title='buf' data-type='char *' data-ref="69buf">buf</dfn> = <a class="local col8 ref" href="#68buffer" title='buffer' data-ref="68buffer">buffer</a>.<a class="ref fn" href="../../corelib/text/qbytearray.h.html#_ZN10QByteArray4dataEv" title='QByteArray::data' data-ref="_ZN10QByteArray4dataEv">data</a>();</td></tr>
<tr><th id="412">412</th><td></td></tr>
<tr><th id="413">413</th><td>    <a class="local col6 ref" href="#66result" title='result' data-ref="66result">result</a> <a class="ref fn" href="../../corelib/tools/qlist.h.html#68" title='QList&lt;QNetworkInterfacePrivate *&gt;::operator=' data-ref="_ZN5QListIP24QNetworkInterfacePrivateEaSEOS2_">=</a> <a class="tu ref fn" href="#_ZL13getInterfacesiPc" title='getInterfaces' data-use='c' data-ref="_ZL13getInterfacesiPc">getInterfaces</a>(<a class="tu ref fn fake" href="#_ZNK12_GLOBAL__N_113NetlinkSocketcviEv" title='(anonymous namespace)::NetlinkSocket::operator int' data-use='c' data-ref="_ZNK12_GLOBAL__N_113NetlinkSocketcviEv"></a><a class="local col7 ref" href="#67sock" title='sock' data-ref="67sock">sock</a>, <a class="local col9 ref" href="#69buf" title='buf' data-ref="69buf">buf</a>);</td></tr>
<tr><th id="414">414</th><td>    <a class="tu ref fn" href="#_ZL12getAddressesiPcR5QListIP24QNetworkInterfacePrivateE" title='getAddresses' data-use='c' data-ref="_ZL12getAddressesiPcR5QListIP24QNetworkInterfacePrivateE">getAddresses</a>(<a class="tu ref fn fake" href="#_ZNK12_GLOBAL__N_113NetlinkSocketcviEv" title='(anonymous namespace)::NetlinkSocket::operator int' data-use='c' data-ref="_ZNK12_GLOBAL__N_113NetlinkSocketcviEv"></a><a class="local col7 ref" href="#67sock" title='sock' data-ref="67sock">sock</a>, <a class="local col9 ref" href="#69buf" title='buf' data-ref="69buf">buf</a>, <span class='refarg'><a class="local col6 ref" href="#66result" title='result' data-ref="66result">result</a></span>);</td></tr>
<tr><th id="415">415</th><td></td></tr>
<tr><th id="416">416</th><td>    <b>return</b> <a class="ref fn fake" href="../../corelib/tools/qlist.h.html#68" title='QList&lt;QNetworkInterfacePrivate *&gt;::QList' data-ref="_ZN5QListIP24QNetworkInterfacePrivateEC1EOS2_"></a><a class="local col6 ref" href="#66result" title='result' data-ref="66result">result</a>;</td></tr>
<tr><th id="417">417</th><td>}</td></tr>
<tr><th id="418">418</th><td></td></tr>
<tr><th id="419">419</th><td><a class="macro" href="../../corelib/global/qtconfigmacros.h.html#104" title="" data-ref="_M/QT_END_NAMESPACE">QT_END_NAMESPACE</a></td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td><u>#<span data-ppcond="8">endif</span> // QT_NO_NETWORKINTERFACE</u></td></tr>
<tr><th id="422">422</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2024-Jun-13</em> from project qtbase-6.5.0 revision <em>6.5.0</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
