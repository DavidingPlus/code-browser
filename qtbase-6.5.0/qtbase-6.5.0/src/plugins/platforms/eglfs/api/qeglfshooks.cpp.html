<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>qeglfshooks.cpp source code [qtbase-6.5.0/src/plugins/platforms/eglfs/api/qeglfshooks.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'qtbase-6.5.0/src/plugins/platforms/eglfs/api/qeglfshooks.cpp'; var root_path = '../../../../../..'; var data_path = '../../../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../..'>qtbase-6.5.0</a>/<a href='../../../..'>src</a>/<a href='../../..'>plugins</a>/<a href='../..'>platforms</a>/<a href='..'>eglfs</a>/<a href='./'>api</a>/<a href='qeglfshooks.cpp.html'>qeglfshooks.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>// Copyright (C) 2016 The Qt Company Ltd.</i></td></tr>
<tr><th id="2">2</th><td><i>// SPDX-License-Identifier: LicenseRef-Qt-Commercial OR LGPL-3.0-only OR GPL-2.0-only OR GPL-3.0-only</i></td></tr>
<tr><th id="3">3</th><td></td></tr>
<tr><th id="4">4</th><td><u>#include <a href="qeglfshooks_p.h.html">"qeglfshooks_p.h"</a></u></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="../../../../../build/include/QtCore/QLoggingCategory.html">&lt;QLoggingCategory&gt;</a></u></td></tr>
<tr><th id="6">6</th><td></td></tr>
<tr><th id="7">7</th><td><a class="macro" href="../../../../corelib/global/qtconfigmacros.h.html#103" title="" data-ref="_M/QT_BEGIN_NAMESPACE">QT_BEGIN_NAMESPACE</a></td></tr>
<tr><th id="8">8</th><td></td></tr>
<tr><th id="9">9</th><td><a class="macro" href="../../../../corelib/io/qloggingcategory.h.html#111" title="const QLoggingCategory &amp;qLcEglDevDebug();" data-ref="_M/Q_DECLARE_LOGGING_CATEGORY">Q_DECLARE_LOGGING_CATEGORY</a>(<dfn class="decl fn" id="_Z14qLcEglDevDebugv" title='qLcEglDevDebug' data-ref="_Z14qLcEglDevDebugv">qLcEglDevDebug</dfn>)</td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><u>#<span data-ppcond="11">ifdef</span> <span class="macro" data-ref="_M/EGLFS_PLATFORM_HOOKS">EGLFS_PLATFORM_HOOKS</span></u></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td>QEglFSDeviceIntegration *qt_egl_device_integration()</td></tr>
<tr><th id="14">14</th><td>{</td></tr>
<tr><th id="15">15</th><td>    <b>extern</b> QEglFSHooks *platformHooks;</td></tr>
<tr><th id="16">16</th><td>    <b>return</b> platformHooks;</td></tr>
<tr><th id="17">17</th><td>}</td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#<span data-ppcond="11">else</span></u></td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><b>namespace</b> {</td></tr>
<tr><th id="22">22</th><td><b>class</b> <dfn class="tu type def" id="(anonymousnamespace)::DeviceIntegration" title='(anonymous namespace)::DeviceIntegration' data-ref="(anonymousnamespace)::DeviceIntegration">DeviceIntegration</dfn></td></tr>
<tr><th id="23">23</th><td>{</td></tr>
<tr><th id="24">24</th><td><b>public</b>:</td></tr>
<tr><th id="25">25</th><td>    <a class="tu decl fn" href="#_ZN12_GLOBAL__N_117DeviceIntegrationC1Ev" title='(anonymous namespace)::DeviceIntegration::DeviceIntegration' data-type='void (anonymous namespace)::DeviceIntegration::DeviceIntegration()' data-ref="_ZN12_GLOBAL__N_117DeviceIntegrationC1Ev">DeviceIntegration</a>();</td></tr>
<tr><th id="26">26</th><td>    <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_117DeviceIntegrationD1Ev" title='(anonymous namespace)::DeviceIntegration::~DeviceIntegration' data-type='void (anonymous namespace)::DeviceIntegration::~DeviceIntegration()' data-ref="_ZN12_GLOBAL__N_117DeviceIntegrationD1Ev">~DeviceIntegration</dfn>() { <b>delete</b> <a class="tu member field" href="#(anonymousnamespace)::DeviceIntegration::m_integration" title='(anonymous namespace)::DeviceIntegration::m_integration' data-use='r' data-ref="(anonymousnamespace)::DeviceIntegration::m_integration">m_integration</a>; }</td></tr>
<tr><th id="27">27</th><td>    <a class="type" href="qeglfsdeviceintegration_p.h.html#QEglFSDeviceIntegration" title='QEglFSDeviceIntegration' data-ref="QEglFSDeviceIntegration">QEglFSDeviceIntegration</a> *<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_117DeviceIntegration11integrationEv" title='(anonymous namespace)::DeviceIntegration::integration' data-type='QEglFSDeviceIntegration * (anonymous namespace)::DeviceIntegration::integration()' data-ref="_ZN12_GLOBAL__N_117DeviceIntegration11integrationEv">integration</dfn>() { <b>return</b> <a class="tu member field" href="#(anonymousnamespace)::DeviceIntegration::m_integration" title='(anonymous namespace)::DeviceIntegration::m_integration' data-use='r' data-ref="(anonymousnamespace)::DeviceIntegration::m_integration">m_integration</a>; }</td></tr>
<tr><th id="28">28</th><td><b>private</b>:</td></tr>
<tr><th id="29">29</th><td>    <a class="type" href="qeglfsdeviceintegration_p.h.html#QEglFSDeviceIntegration" title='QEglFSDeviceIntegration' data-ref="QEglFSDeviceIntegration">QEglFSDeviceIntegration</a> *<dfn class="tu decl field" id="(anonymousnamespace)::DeviceIntegration::m_integration" title='(anonymous namespace)::DeviceIntegration::m_integration' data-type='QEglFSDeviceIntegration *' data-ref="(anonymousnamespace)::DeviceIntegration::m_integration">m_integration</dfn>;</td></tr>
<tr><th id="30">30</th><td>};</td></tr>
<tr><th id="31">31</th><td>}</td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><a class="macro" href="../../../../corelib/global/qglobalstatic.h.html#115" title=" namespace { struct Q_QGS_deviceIntegration { typedef DeviceIntegration QGS_Type; static void innerFunction(void *pointer) noexcept(noexcept(std::remove_cv_t&lt;QGS_Type&gt; ())) { new (pointer) QGS_Type (); } }; } [[clang::require_constant_initialization]] static QGlobalStatic&lt;QtGlobalStatic::Holder&lt;Q_QGS_deviceIntegration&gt;&gt; deviceIntegration;" data-ref="_M/Q_GLOBAL_STATIC">Q_GLOBAL_STATIC</a>(<a class="tu type" href="#(anonymousnamespace)::DeviceIntegration" title='(anonymous namespace)::DeviceIntegration' data-ref="(anonymousnamespace)::DeviceIntegration">DeviceIntegration</a>, <a class="tu ref fn fake" href="../../../../corelib/global/qglobalstatic.h.html#57" title='QGlobalStatic&lt;QtGlobalStatic::Holder&lt;(anonymous namespace)::Q_QGS_deviceIntegration&gt;&gt;::QGlobalStatic' data-use='c' data-ref="_ZN13QGlobalStaticIN14QtGlobalStatic6HolderIN12_GLOBAL__N_123Q_QGS_deviceIntegrationEEEEC1Ev"></a><dfn class="decl def" id="deviceIntegration" title='deviceIntegration' data-ref="deviceIntegration">deviceIntegration</dfn>)</td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><a class="tu type" href="#(anonymousnamespace)::DeviceIntegration" title='(anonymous namespace)::DeviceIntegration' data-ref="(anonymousnamespace)::DeviceIntegration">DeviceIntegration</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_117DeviceIntegrationC1Ev" title='(anonymous namespace)::DeviceIntegration::DeviceIntegration' data-type='void (anonymous namespace)::DeviceIntegration::DeviceIntegration()' data-ref="_ZN12_GLOBAL__N_117DeviceIntegrationC1Ev">DeviceIntegration</dfn>()</td></tr>
<tr><th id="36">36</th><td>    : <a class="tu member field" href="#(anonymousnamespace)::DeviceIntegration::m_integration" title='(anonymous namespace)::DeviceIntegration::m_integration' data-use='w' data-ref="(anonymousnamespace)::DeviceIntegration::m_integration">m_integration</a>(<b>nullptr</b>)</td></tr>
<tr><th id="37">37</th><td>{</td></tr>
<tr><th id="38">38</th><td>    <a class="typedef" href="../../../../corelib/tools/qcontainerfwd.h.html#QStringList" title='QStringList' data-type='QList&lt;QString&gt;' data-ref="QStringList">QStringList</a> <dfn class="local col1 decl" id="1pluginKeys" title='pluginKeys' data-type='QStringList' data-ref="1pluginKeys">pluginKeys</dfn> = <a class="type" href="qeglfsdeviceintegration_p.h.html#QEglFSDeviceIntegrationFactory" title='QEglFSDeviceIntegrationFactory' data-ref="QEglFSDeviceIntegrationFactory">QEglFSDeviceIntegrationFactory</a>::<a class="ref fn" href="qeglfsdeviceintegration_p.h.html#_ZN30QEglFSDeviceIntegrationFactory4keysEv" title='QEglFSDeviceIntegrationFactory::keys' data-ref="_ZN30QEglFSDeviceIntegrationFactory4keysEv">keys</a>();</td></tr>
<tr><th id="39">39</th><td>    <b>if</b> (!<a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZNK5QList7isEmptyEv" title='QList::isEmpty' data-ref="_ZNK5QList7isEmptyEv">isEmpty</a>()) {</td></tr>
<tr><th id="40">40</th><td>        <i>// Some built-in logic: Prioritize either X11 or KMS/DRM.</i></td></tr>
<tr><th id="41">41</th><td>        <b>if</b> (<a class="ref fn" href="../../../../corelib/global/qtenvironmentvariables.h.html#_Z25qEnvironmentVariableIsSetPKc" title='qEnvironmentVariableIsSet' data-ref="_Z25qEnvironmentVariableIsSetPKc">qEnvironmentVariableIsSet</a>(<span class='inlayHint'>varName:&nbsp;</span><q>"DISPLAY"</q>)) {</td></tr>
<tr><th id="42">42</th><td>            <em>const</em> <a class="type" href="../../../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a> <dfn class="local col2 decl" id="2x11key" title='x11key' data-type='const QString' data-ref="2x11key">x11key</dfn> = <a class="macro" href="../../../../corelib/text/qstringliteral.h.html#36" title="(QString(QtPrivate::qMakeStringPrivate(u&quot;&quot; &quot;eglfs_x11&quot;)))" data-ref="_M/QStringLiteral">QStringLiteral</a>(<q>"eglfs_x11"</q>);</td></tr>
<tr><th id="43">43</th><td>            <b>if</b> (<a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/text/qstringlist.h.html#_ZNK19QListSpecialMethodsI7QStringE8containsERKS0_N2Qt15CaseSensitivityE" title='QListSpecialMethods&lt;QString&gt;::contains' data-ref="_ZNK19QListSpecialMethodsI7QStringE8containsERKS0_N2Qt15CaseSensitivityE">contains</a>(<span class='inlayHint'>str:&nbsp;</span><a class="local col2 ref" href="#2x11key" title='x11key' data-ref="2x11key">x11key</a>)) {</td></tr>
<tr><th id="44">44</th><td>                <a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZN5QList9removeOneERKTL0__" title='QList::removeOne' data-ref="_ZN5QList9removeOneERKTL0__">removeOne</a>(<span class='inlayHint'>t:&nbsp;</span><a class="local col2 ref" href="#2x11key" title='x11key' data-ref="2x11key">x11key</a>);</td></tr>
<tr><th id="45">45</th><td>                <a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZN5QList7prependEN17QArrayDataPointerIT_E14parameter_typeE" title='QList::prepend' data-ref="_ZN5QList7prependEN17QArrayDataPointerIT_E14parameter_typeE">prepend</a>(<span class='inlayHint'>t:&nbsp;</span><a class="local col2 ref" href="#2x11key" title='x11key' data-ref="2x11key">x11key</a>);</td></tr>
<tr><th id="46">46</th><td>            }</td></tr>
<tr><th id="47">47</th><td>        } <b>else</b> {</td></tr>
<tr><th id="48">48</th><td>            <em>const</em> <a class="type" href="../../../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a> <dfn class="local col3 decl" id="3kmskey" title='kmskey' data-type='const QString' data-ref="3kmskey">kmskey</dfn> = <a class="macro" href="../../../../corelib/text/qstringliteral.h.html#36" title="(QString(QtPrivate::qMakeStringPrivate(u&quot;&quot; &quot;eglfs_kms&quot;)))" data-ref="_M/QStringLiteral">QStringLiteral</a>(<q>"eglfs_kms"</q>);</td></tr>
<tr><th id="49">49</th><td>            <b>if</b> (<a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/text/qstringlist.h.html#_ZNK19QListSpecialMethodsI7QStringE8containsERKS0_N2Qt15CaseSensitivityE" title='QListSpecialMethods&lt;QString&gt;::contains' data-ref="_ZNK19QListSpecialMethodsI7QStringE8containsERKS0_N2Qt15CaseSensitivityE">contains</a>(<span class='inlayHint'>str:&nbsp;</span><a class="local col3 ref" href="#3kmskey" title='kmskey' data-ref="3kmskey">kmskey</a>)) {</td></tr>
<tr><th id="50">50</th><td>                <a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZN5QList9removeOneERKTL0__" title='QList::removeOne' data-ref="_ZN5QList9removeOneERKTL0__">removeOne</a>(<span class='inlayHint'>t:&nbsp;</span><a class="local col3 ref" href="#3kmskey" title='kmskey' data-ref="3kmskey">kmskey</a>);</td></tr>
<tr><th id="51">51</th><td>                <a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZN5QList7prependEN17QArrayDataPointerIT_E14parameter_typeE" title='QList::prepend' data-ref="_ZN5QList7prependEN17QArrayDataPointerIT_E14parameter_typeE">prepend</a>(<span class='inlayHint'>t:&nbsp;</span><a class="local col3 ref" href="#3kmskey" title='kmskey' data-ref="3kmskey">kmskey</a>);</td></tr>
<tr><th id="52">52</th><td>            }</td></tr>
<tr><th id="53">53</th><td>        }</td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td>        <a class="type" href="../../../../corelib/text/qbytearray.h.html#QByteArray" title='QByteArray' data-ref="QByteArray">QByteArray</a> <a class="ref fn fake" href="../../../../corelib/text/qbytearray.h.html#_ZN10QByteArrayC1Ev" title='QByteArray::QByteArray' data-ref="_ZN10QByteArrayC1Ev"></a><dfn class="local col4 decl" id="4requested" title='requested' data-type='QByteArray' data-ref="4requested">requested</dfn>;</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td>        <i>// The environment variable can override everything.</i></td></tr>
<tr><th id="58">58</th><td>        <b>if</b> (<a class="ref fn" href="../../../../corelib/global/qtenvironmentvariables.h.html#_Z25qEnvironmentVariableIsSetPKc" title='qEnvironmentVariableIsSet' data-ref="_Z25qEnvironmentVariableIsSetPKc">qEnvironmentVariableIsSet</a>(<span class='inlayHint'>varName:&nbsp;</span><q>"QT_QPA_EGLFS_INTEGRATION"</q>)) {</td></tr>
<tr><th id="59">59</th><td>            <a class="local col4 ref" href="#4requested" title='requested' data-ref="4requested">requested</a> <a class="ref fn" href="../../../../corelib/text/qbytearray.h.html#95" title='QByteArray::operator=' data-ref="_ZN10QByteArrayaSEOS_">=</a> <a class="ref fn" href="../../../../corelib/global/qtenvironmentvariables.h.html#_Z7qgetenvPKc" title='qgetenv' data-ref="_Z7qgetenvPKc">qgetenv</a>(<span class='inlayHint'>varName:&nbsp;</span><q>"QT_QPA_EGLFS_INTEGRATION"</q>);</td></tr>
<tr><th id="60">60</th><td>        } <b>else</b> {</td></tr>
<tr><th id="61">61</th><td>            <i>// Device-specific makespecs may define a preferred plugin.</i></td></tr>
<tr><th id="62">62</th><td><u>#<span data-ppcond="62">ifdef</span> <span class="macro" data-ref="_M/EGLFS_PREFERRED_PLUGIN">EGLFS_PREFERRED_PLUGIN</span></u></td></tr>
<tr><th id="63">63</th><td><u>#define <dfn class="macro" id="_M/DEFAULT_PLUGIN" data-ref="_M/DEFAULT_PLUGIN">DEFAULT_PLUGIN</dfn> EGLFS_PREFERRED_PLUGIN</u></td></tr>
<tr><th id="64">64</th><td><u>#define <dfn class="macro" id="_M/STR" data-ref="_M/STR">STR</dfn>(s) #s</u></td></tr>
<tr><th id="65">65</th><td><u>#define <dfn class="macro" id="_M/STRQ" data-ref="_M/STRQ">STRQ</dfn>(s) STR(s)</u></td></tr>
<tr><th id="66">66</th><td>            <a class="local col4 ref" href="#4requested" title='requested' data-ref="4requested">requested</a> <a class="ref fn" href="../../../../corelib/text/qbytearray.h.html#_ZN10QByteArrayaSEPKc" title='QByteArray::operator=' data-ref="_ZN10QByteArrayaSEPKc">=</a> <a class="macro" href="#65" title="&quot;&quot;" data-ref="_M/STRQ">STRQ</a>(<a class="macro" href="#63" title="" data-ref="_M/DEFAULT_PLUGIN">DEFAULT_PLUGIN</a>);</td></tr>
<tr><th id="67">67</th><td><u>#<span data-ppcond="62">endif</span></u></td></tr>
<tr><th id="68">68</th><td>        }</td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td>        <i>// Treat "none" as special. There has to be a way to indicate</i></td></tr>
<tr><th id="71">71</th><td><i>        // that plugins must be ignored when the device is known to be</i></td></tr>
<tr><th id="72">72</th><td><i>        // functional with the default, non-specialized integration.</i></td></tr>
<tr><th id="73">73</th><td>        <b>if</b> (<a class="local col4 ref" href="#4requested" title='requested' data-ref="4requested">requested</a> <a class="ref fn" href="../../../../corelib/text/qbytearray.h.html#_ZneRK10QByteArrayS1_" title='operator!=' data-ref="_ZneRK10QByteArrayS1_">!=</a> <a class="macro" href="../../../../corelib/text/qbytearray.h.html#50" title="(QByteArray(QByteArrayData(nullptr, const_cast&lt;char *&gt;(&quot;none&quot;), sizeof(&quot;none&quot;) - 1)))" data-ref="_M/QByteArrayLiteral">QByteArrayLiteral</a>(<q>"none"</q>)) {</td></tr>
<tr><th id="74">74</th><td>            <b>if</b> (!<a class="local col4 ref" href="#4requested" title='requested' data-ref="4requested">requested</a>.<a class="ref fn" href="../../../../corelib/text/qbytearray.h.html#_ZNK10QByteArray7isEmptyEv" title='QByteArray::isEmpty' data-ref="_ZNK10QByteArray7isEmptyEv">isEmpty</a>()) {</td></tr>
<tr><th id="75">75</th><td>                <a class="type" href="../../../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a> <dfn class="local col5 decl" id="5reqStr" title='reqStr' data-type='QString' data-ref="5reqStr">reqStr</dfn> = <a class="type" href="../../../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a>::<a class="ref fn" href="../../../../corelib/text/qstring.h.html#_ZN7QString13fromLocal8BitERK10QByteArray" title='QString::fromLocal8Bit' data-ref="_ZN7QString13fromLocal8BitERK10QByteArray">fromLocal8Bit</a>(<span class='inlayHint'>ba:&nbsp;</span><a class="local col4 ref" href="#4requested" title='requested' data-ref="4requested">requested</a>);</td></tr>
<tr><th id="76">76</th><td>                <a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZN5QList9removeOneERKTL0__" title='QList::removeOne' data-ref="_ZN5QList9removeOneERKTL0__">removeOne</a>(<span class='inlayHint'>t:&nbsp;</span><a class="local col5 ref" href="#5reqStr" title='reqStr' data-ref="5reqStr">reqStr</a>);</td></tr>
<tr><th id="77">77</th><td>                <a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZN5QList7prependEN17QArrayDataPointerIT_E14parameter_typeE" title='QList::prepend' data-ref="_ZN5QList7prependEN17QArrayDataPointerIT_E14parameter_typeE">prepend</a>(<span class='inlayHint'>t:&nbsp;</span><a class="local col5 ref" href="#5reqStr" title='reqStr' data-ref="5reqStr">reqStr</a>);</td></tr>
<tr><th id="78">78</th><td>            }</td></tr>
<tr><th id="79">79</th><td>            <a class="macro" href="../../../../corelib/io/qloggingcategory.h.html#128" title="for (QLoggingCategoryMacroHolder&lt;QtDebugMsg&gt; qt_category(qLcEglDevDebug); qt_category; qt_category.control = false) QMessageLogger(nullptr, 0, nullptr, qt_category.name()).debug()" data-ref="_M/qCDebug">qCDebug</a>(<a class="ref fn" href="#9" title='qLcEglDevDebug' data-ref="_Z14qLcEglDevDebugv">qLcEglDevDebug</a>) <a class="ref fn" href="../../../../corelib/io/qdebug.h.html#_ZN6QDebuglsEPKc" title='QDebug::operator&lt;&lt;' data-ref="_ZN6QDebuglsEPKc">&lt;&lt;</a> <q>"EGL device integration plugin keys (sorted):"</q> <a class="ref fn" href="../../../../corelib/io/qdebug.h.html#_Zls6QDebugRK5QListIT_E" title='operator&lt;&lt;' data-ref="_Zls6QDebugRK5QListIT_E">&lt;&lt;</a> <a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>;</td></tr>
<tr><th id="80">80</th><td>            <b>while</b> (!<a class="tu member field" href="#(anonymousnamespace)::DeviceIntegration::m_integration" title='(anonymous namespace)::DeviceIntegration::m_integration' data-use='r' data-ref="(anonymousnamespace)::DeviceIntegration::m_integration">m_integration</a> &amp;&amp; !<a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZNK5QList7isEmptyEv" title='QList::isEmpty' data-ref="_ZNK5QList7isEmptyEv">isEmpty</a>()) {</td></tr>
<tr><th id="81">81</th><td>                <a class="type" href="../../../../corelib/text/qstring.h.html#QString" title='QString' data-ref="QString">QString</a> <dfn class="local col6 decl" id="6key" title='key' data-type='QString' data-ref="6key">key</dfn> = <a class="local col1 ref" href="#1pluginKeys" title='pluginKeys' data-ref="1pluginKeys">pluginKeys</a>.<a class="ref fn" href="../../../../corelib/tools/qlist.h.html#_ZN5QList9takeFirstEv" title='QList::takeFirst' data-ref="_ZN5QList9takeFirstEv">takeFirst</a>();</td></tr>
<tr><th id="82">82</th><td>                <a class="macro" href="../../../../corelib/io/qloggingcategory.h.html#128" title="for (QLoggingCategoryMacroHolder&lt;QtDebugMsg&gt; qt_category(qLcEglDevDebug); qt_category; qt_category.control = false) QMessageLogger(nullptr, 0, nullptr, qt_category.name()).debug()" data-ref="_M/qCDebug">qCDebug</a>(<a class="ref fn" href="#9" title='qLcEglDevDebug' data-ref="_Z14qLcEglDevDebugv">qLcEglDevDebug</a>) <a class="ref fn" href="../../../../corelib/io/qdebug.h.html#_ZN6QDebuglsEPKc" title='QDebug::operator&lt;&lt;' data-ref="_ZN6QDebuglsEPKc">&lt;&lt;</a> <q>"Trying to load device EGL integration"</q> <a class="ref fn" href="../../../../corelib/io/qdebug.h.html#_ZN6QDebuglsERK7QString" title='QDebug::operator&lt;&lt;' data-ref="_ZN6QDebuglsERK7QString">&lt;&lt;</a> <a class="local col6 ref" href="#6key" title='key' data-ref="6key">key</a>;</td></tr>
<tr><th id="83">83</th><td>                <a class="tu member field" href="#(anonymousnamespace)::DeviceIntegration::m_integration" title='(anonymous namespace)::DeviceIntegration::m_integration' data-use='w' data-ref="(anonymousnamespace)::DeviceIntegration::m_integration">m_integration</a> = <a class="type" href="qeglfsdeviceintegration_p.h.html#QEglFSDeviceIntegrationFactory" title='QEglFSDeviceIntegrationFactory' data-ref="QEglFSDeviceIntegrationFactory">QEglFSDeviceIntegrationFactory</a>::<a class="ref fn" href="qeglfsdeviceintegration_p.h.html#_ZN30QEglFSDeviceIntegrationFactory6createERK7QString" title='QEglFSDeviceIntegrationFactory::create' data-ref="_ZN30QEglFSDeviceIntegrationFactory6createERK7QString">create</a>(<span class='inlayHint'>name:&nbsp;</span><a class="local col6 ref" href="#6key" title='key' data-ref="6key">key</a>);</td></tr>
<tr><th id="84">84</th><td>            }</td></tr>
<tr><th id="85">85</th><td>        }</td></tr>
<tr><th id="86">86</th><td>    }</td></tr>
<tr><th id="87">87</th><td></td></tr>
<tr><th id="88">88</th><td>    <b>if</b> (!<a class="tu member field" href="#(anonymousnamespace)::DeviceIntegration::m_integration" title='(anonymous namespace)::DeviceIntegration::m_integration' data-use='r' data-ref="(anonymousnamespace)::DeviceIntegration::m_integration">m_integration</a>) {</td></tr>
<tr><th id="89">89</th><td>        <i>// Use a default, non-specialized device integration when no plugin is available.</i></td></tr>
<tr><th id="90">90</th><td><i>        // For some systems this is sufficient.</i></td></tr>
<tr><th id="91">91</th><td>        <a class="macro" href="../../../../corelib/io/qloggingcategory.h.html#128" title="for (QLoggingCategoryMacroHolder&lt;QtDebugMsg&gt; qt_category(qLcEglDevDebug); qt_category; qt_category.control = false) QMessageLogger(nullptr, 0, nullptr, qt_category.name()).debug()" data-ref="_M/qCDebug">qCDebug</a>(<a class="ref fn" href="#9" title='qLcEglDevDebug' data-ref="_Z14qLcEglDevDebugv">qLcEglDevDebug</a>) <a class="ref fn" href="../../../../corelib/io/qdebug.h.html#_ZN6QDebuglsEPKc" title='QDebug::operator&lt;&lt;' data-ref="_ZN6QDebuglsEPKc">&lt;&lt;</a> <q>"Using base device integration"</q>;</td></tr>
<tr><th id="92">92</th><td>        <a class="tu member field" href="#(anonymousnamespace)::DeviceIntegration::m_integration" title='(anonymous namespace)::DeviceIntegration::m_integration' data-use='w' data-ref="(anonymousnamespace)::DeviceIntegration::m_integration">m_integration</a> = <b>new</b> <a class="ref fn fake" href="qeglfsdeviceintegration_p.h.html#32" title='QEglFSDeviceIntegration::QEglFSDeviceIntegration' data-ref="_ZN23QEglFSDeviceIntegrationC1Ev"></a><a class="type" href="qeglfsdeviceintegration_p.h.html#QEglFSDeviceIntegration" title='QEglFSDeviceIntegration' data-ref="QEglFSDeviceIntegration">QEglFSDeviceIntegration</a>;</td></tr>
<tr><th id="93">93</th><td>    }</td></tr>
<tr><th id="94">94</th><td>}</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><a class="type" href="qeglfsdeviceintegration_p.h.html#QEglFSDeviceIntegration" title='QEglFSDeviceIntegration' data-ref="QEglFSDeviceIntegration">QEglFSDeviceIntegration</a> *<dfn class="decl def fn" id="_Z25qt_egl_device_integrationv" title='qt_egl_device_integration' data-ref="_Z25qt_egl_device_integrationv">qt_egl_device_integration</dfn>()</td></tr>
<tr><th id="97">97</th><td>{</td></tr>
<tr><th id="98">98</th><td>    <b>return</b> <a class="ref" href="#33" title='deviceIntegration' data-ref="deviceIntegration">deviceIntegration</a><a class="tu ref fn" href="../../../../corelib/global/qglobalstatic.h.html#_ZN13QGlobalStaticclEv" title='QGlobalStatic::operator()' data-use='c' data-ref="_ZN13QGlobalStaticclEv">()</a>-&gt;<a class="tu ref fn" href="#_ZN12_GLOBAL__N_117DeviceIntegration11integrationEv" title='(anonymous namespace)::DeviceIntegration::integration' data-use='c' data-ref="_ZN12_GLOBAL__N_117DeviceIntegration11integrationEv">integration</a>();</td></tr>
<tr><th id="99">99</th><td>}</td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><u>#<span data-ppcond="11">endif</span> // EGLFS_PLATFORM_HOOKS</u></td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td><a class="macro" href="../../../../corelib/global/qtconfigmacros.h.html#104" title="" data-ref="_M/QT_END_NAMESPACE">QT_END_NAMESPACE</a></td></tr>
<tr><th id="104">104</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2024-Jun-13</em> from project qtbase-6.5.0 revision <em>6.5.0</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
